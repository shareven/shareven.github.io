<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>child_process | Node.js API &#x6587;&#x6863;</title>
  <link rel="icon" sizes="32x32" type="image/png" href="http://static.nodejs.cn/_static/img/favicon.png"><link rel="stylesheet" href="/api/api.css">
  <script>
    document.write('<link href="http://nodejs.cn/api/'&#32;+&#32;(location.port?'':'//static.nodejs.cn')&#32;+&#32;'/_static/css/api.css?1576756295697" rel="stylesheet">')
  </script>
  
</head>
<body class="alt apidoc" id="page_api">
  <div id="api-section-child_process">
    <div id="content" class="clearfix">
      <div id="column2" class="interior">
        <div id="intro" class="interior">
          <a href="http://nodejs.cn/" rel="nofollow">
            Node.js &#x4E2D;&#x6587;&#x7F51;
          </a>
          <a href="index.html" rel="nofollow">
            v12.14.0
          </a>
          <div id="biz_nav"><a title="&#x5F00;&#x8BFE;&#x5427;" target="_blank" href="https://datayi.cn/w/LPd57bYo" rel="nofollow"><img></a></div>
        </div>
        <div class="line"></div>
        <ul>
<li><a href="assert.html" class="nav-assert" rel="nofollow">assert - &#x65AD;&#x8A00;</a></li>
<li><a href="async_hooks.html" class="nav-async_hooks" rel="nofollow">async_hooks - &#x5F02;&#x6B65;&#x94A9;&#x5B50;</a></li>
<li><a href="buffer.html" class="nav-buffer" rel="nofollow">Buffer - &#x7F13;&#x51B2;&#x5668;</a></li>
<li><a href="child_process.html" class="nav-child_process active" rel="nofollow">child_process - &#x5B50;&#x8FDB;&#x7A0B;</a></li>
<li><a href="cluster.html" class="nav-cluster" rel="nofollow">cluster - &#x96C6;&#x7FA4;</a></li>
<li><a href="console.html" class="nav-console" rel="nofollow">console - &#x63A7;&#x5236;&#x53F0;</a></li>
<li><a href="crypto.html" class="nav-crypto" rel="nofollow">crypto - &#x52A0;&#x5BC6;</a></li>
<li><a href="debugger.html" class="nav-debugger" rel="nofollow">debugger - &#x8C03;&#x8BD5;&#x5668;</a></li>
<li><a href="dgram.html" class="nav-dgram" rel="nofollow">dgram - &#x6570;&#x636E;&#x62A5;</a></li>
<li><a href="dns.html" class="nav-dns" rel="nofollow">dns - &#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;</a></li>
<li><a href="domain.html" class="nav-domain" rel="nofollow">domain - &#x57DF;</a></li>
<li><a href="errors.html" class="nav-errors" rel="nofollow">Error - &#x5F02;&#x5E38;</a></li>
<li><a href="events.html" class="nav-events" rel="nofollow">events - &#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x5668;</a></li>
<li><a href="fs.html" class="nav-fs" rel="nofollow">fs - &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</a></li>
<li><a href="globals.html" class="nav-globals" rel="nofollow">global - &#x5168;&#x5C40;&#x53D8;&#x91CF;</a></li>
<li><a href="http.html" class="nav-http" rel="nofollow">http - HTTP</a></li>
<li><a href="http2.html" class="nav-http2" rel="nofollow">http2 - HTTP/2</a></li>
<li><a href="https.html" class="nav-https" rel="nofollow">https - HTTPS</a></li>
<li><a href="inspector.html" class="nav-inspector" rel="nofollow">inspector - &#x68C0;&#x67E5;&#x5668;</a></li>
<li><a href="modules.html" class="nav-modules" rel="nofollow">module - &#x6A21;&#x5757;</a></li>
<li><a href="net.html" class="nav-net" rel="nofollow">net - &#x7F51;&#x7EDC;</a></li>
<li><a href="os.html" class="nav-os" rel="nofollow">os - &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</a></li>
<li><a href="path.html" class="nav-path" rel="nofollow">path - &#x8DEF;&#x5F84;</a></li>
<li><a href="perf_hooks.html" class="nav-perf_hooks" rel="nofollow">perf_hooks - &#x6027;&#x80FD;&#x94A9;&#x5B50;</a></li>
<li><a href="process.html" class="nav-process" rel="nofollow">process - &#x8FDB;&#x7A0B;</a></li>
<li><a href="punycode.html" class="nav-punycode" rel="nofollow">punycode - &#x57DF;&#x540D;&#x4EE3;&#x7801;</a></li>
<li><a href="querystring.html" class="nav-querystring" rel="nofollow">querystring - &#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;</a></li>
<li><a href="readline.html" class="nav-readline" rel="nofollow">readline - &#x9010;&#x884C;&#x8BFB;&#x53D6;</a></li>
<li><a href="repl.html" class="nav-repl" rel="nofollow">repl - &#x4EA4;&#x4E92;&#x5F0F;&#x89E3;&#x91CA;&#x5668;</a></li>
<li><a href="stream.html" class="nav-stream" rel="nofollow">stream - &#x6D41;</a></li>
<li><a href="string_decoder.html" class="nav-string_decoder" rel="nofollow">string_decoder - &#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x7801;&#x5668;</a></li>
<li><a href="timers.html" class="nav-timers" rel="nofollow">timer - &#x5B9A;&#x65F6;&#x5668;</a></li>
<li><a href="tls.html" class="nav-tls" rel="nofollow">tls - &#x5B89;&#x5168;&#x4F20;&#x8F93;&#x5C42;</a></li>
<li><a href="tracing.html" class="nav-tracing" rel="nofollow">trace_events - &#x8DDF;&#x8E2A;&#x4E8B;&#x4EF6;</a></li>
<li><a href="tty.html" class="nav-tty" rel="nofollow">tty - &#x7EC8;&#x7AEF;</a></li>
<li><a href="url.html" class="nav-url" rel="nofollow">url - URL</a></li>
<li><a href="util.html" class="nav-util" rel="nofollow">util - &#x5B9E;&#x7528;&#x5DE5;&#x5177;</a></li>
<li><a href="v8.html" class="nav-v8" rel="nofollow">v8 - V8&#x5F15;&#x64CE;</a></li>
<li><a href="vm.html" class="nav-vm" rel="nofollow">vm - &#x865A;&#x62DF;&#x673A;</a></li>
<li><a href="worker_threads.html" class="nav-worker_threads" rel="nofollow">worker_threads - &#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;</a></li>
<li><a href="zlib.html" class="nav-zlib" rel="nofollow">zlib - &#x538B;&#x7F29;</a></li>
</ul>
<div class="line"></div>
<ul>
<li><a href="documentation.html" class="nav-documentation" rel="nofollow">&#x5173;&#x4E8E;&#x672C;&#x6587;&#x6863;</a></li>
<li><a href="synopsis.html" class="nav-synopsis" rel="nofollow">&#x7528;&#x6CD5;&#x4E0E;&#x793A;&#x4F8B;</a></li>
<li><a href="addons.html" class="nav-addons" rel="nofollow">C++&#x63D2;&#x4EF6;</a></li>
<li><a href="n-api.html" class="nav-n-api" rel="nofollow">N-API</a></li>
<li><a href="cli.html" class="nav-cli" rel="nofollow">&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;</a></li>
<li><a href="esm.html" class="nav-esm" rel="nofollow">ECMAScript &#x6A21;&#x5757;</a></li>
<li><a href="policy.html" class="nav-policy" rel="nofollow">&#x5B89;&#x5168;&#x7B56;&#x7565;</a></li>
<li><a href="report.html" class="nav-report" rel="nofollow">&#x8BCA;&#x65AD;&#x62A5;&#x8868;</a></li>
<li><a href="intl.html" class="nav-intl" rel="nofollow">&#x56FD;&#x9645;&#x5316;&#x652F;&#x6301;</a></li>
<li><a href="deprecations.html" class="nav-deprecations" rel="nofollow">&#x5E9F;&#x5F03;&#x7684; API</a></li>
</ul>
        
      </div>
  
      <div id="column1" data-id="child_process" class="interior">
        <header>
          <h1>Node.js v12.14.0 &#x6587;&#x6863;</h1>
          <div id="gtoc">
            <ul>
              <li>
                <a href="index.html" name="toc">&#x8FD4;&#x56DE;&#x6587;&#x6863;&#x9996;&#x9875;</a>
              </li>
              <li>
                <a href="http://nodejs.cn/search" name="toc">&#x641C;&#x7D22;</a>
              </li>
              <!-- 
    <li class="version-picker">
      <a href="#">查看其他版本 <span>&#x25bc;</span></a>
      <ol class="version-picker"><li><a href="/latest-api/child_process.html">12.x</a></li>
<li><a href="/api/child_process.html">10.x</a></li></ol>
    </li>
   -->
            </ul>
          </div>
          <hr>
        </header>

        
        
        <div id="toc">
          <h2>&#x76EE;&#x5F55;</h2>
          <ul>
<li>
<p><span class="stability_2"><a href="child_process.html#child_process_child_process">child_process&#xFF08;&#x5B50;&#x8FDB;&#x7A0B;&#xFF09;</a></span></p>
<ul>
<li>
<p><a href="child_process.html#child_process_asynchronous_process_creation">&#x521B;&#x5EFA;&#x5F02;&#x6B65;&#x7684;&#x8FDB;&#x7A0B;</a></p>
<ul>
<li><a href="child_process.html#child_process_spawning_bat_and_cmd_files_on_windows">&#x5728; Windows &#x4E0A;&#x884D;&#x751F; <code>.bat</code> &#x548C; <code>.cmd</code> &#x6587;&#x4EF6;</a></li>
<li><a href="child_process.html#child_process_child_process_exec_command_options_callback">child_process.exec(command[, options][, callback])</a></li>
<li><a href="child_process.html#child_process_child_process_execfile_file_args_options_callback">child_process.execFile(file[, args][, options][, callback])</a></li>
<li><a href="child_process.html#child_process_child_process_fork_modulepath_args_options">child_process.fork(modulePath[, args][, options])</a></li>
<li>
<p><a href="child_process.html#child_process_child_process_spawn_command_args_options">child_process.spawn(command[, args][, options])</a></p>
<ul>
<li><a href="child_process.html#child_process_options_detached">options.detached</a></li>
<li><a href="child_process.html#child_process_options_stdio">options.stdio</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a href="child_process.html#child_process_synchronous_process_creation">&#x521B;&#x5EFA;&#x540C;&#x6B65;&#x7684;&#x8FDB;&#x7A0B;</a></p>
<ul>
<li><a href="child_process.html#child_process_child_process_execfilesync_file_args_options">child_process.execFileSync(file[, args][, options])</a></li>
<li><a href="child_process.html#child_process_child_process_execsync_command_options">child_process.execSync(command[, options])</a></li>
<li><a href="child_process.html#child_process_child_process_spawnsync_command_args_options">child_process.spawnSync(command[, args][, options])</a></li>
</ul>
</li>
<li>
<p><a href="child_process.html#child_process_class_childprocess">ChildProcess &#x7C7B;</a></p>
<ul>
<li><a href="child_process.html#child_process_event_close">&apos;close&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="child_process.html#child_process_event_disconnect">&apos;disconnect&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="child_process.html#child_process_event_error">&apos;error&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="child_process.html#child_process_event_exit">&apos;exit&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="child_process.html#child_process_event_message">&apos;message&apos; &#x4E8B;&#x4EF6;</a></li>
<li><a href="child_process.html#child_process_subprocess_channel">subprocess.channel</a></li>
<li><a href="child_process.html#child_process_subprocess_connected">subprocess.connected</a></li>
<li><a href="child_process.html#child_process_subprocess_disconnect">subprocess.disconnect()</a></li>
<li><a href="child_process.html#child_process_subprocess_kill_signal">subprocess.kill([signal])</a></li>
<li><a href="child_process.html#child_process_subprocess_killed">subprocess.killed</a></li>
<li><a href="child_process.html#child_process_subprocess_pid">subprocess.pid</a></li>
<li><a href="child_process.html#child_process_subprocess_ref">subprocess.ref()</a></li>
<li>
<p><a href="child_process.html#child_process_subprocess_send_message_sendhandle_options_callback">subprocess.send(message[, sendHandle[, options]][, callback])</a></p>
<ul>
<li><a href="child_process.html#child_process_example_sending_a_server_object">&#x793A;&#x4F8B;&#xFF1A;&#x53D1;&#x9001; server &#x5BF9;&#x8C61;</a></li>
<li><a href="child_process.html#child_process_example_sending_a_socket_object">&#x793A;&#x4F8B;&#xFF1A;&#x53D1;&#x9001; socket &#x5BF9;&#x8C61;</a></li>
</ul>
</li>
<li><a href="child_process.html#child_process_subprocess_stderr">subprocess.stderr</a></li>
<li><a href="child_process.html#child_process_subprocess_stdin">subprocess.stdin</a></li>
<li><a href="child_process.html#child_process_subprocess_stdio">subprocess.stdio</a></li>
<li><a href="child_process.html#child_process_subprocess_stdout">subprocess.stdout</a></li>
<li><a href="child_process.html#child_process_subprocess_unref">subprocess.unref()</a></li>
</ul>
</li>
<li><a href="child_process.html#child_process_maxbuffer_and_unicode">maxBuffer &#x4E0E; Unicode</a></li>
<li><a href="child_process.html#child_process_shell_requirements">shell &#x7684;&#x8981;&#x6C42;</a></li>
<li><a href="child_process.html#child_process_default_windows_shell">Windows &#x9ED8;&#x8BA4;&#x7684; shell</a></li>
</ul>
</li>
</ul>
        </div>

        <!-- <div id="biz_content">
          <a href="http://www.tp-shop.cn/index.php?http_referer=node" target="_blank">
            <img src="//static.nodejs.cn/_static/img/ad/api_content_tpshop.jpg" />
          </a>
        </div> -->
  
        <div id="apicontent">
          <h1>child_process&#xFF08;&#x5B50;&#x8FDB;&#x7A0B;&#xFF09;<span><a class="mark" href="child_process.html#child_process_child_process" id="child_process_child_process">#</a></span></h1><p class="tip_wrap"><a href="child_process/child_process.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<!--introduced_in=v0.10.0-->
<p></p><div class="api_stability api_stability_2"><a target="_blank" rel="nofollow" href="documentation.html#documentation_stability_index">&#x7A33;&#x5B9A;&#x6027;: 2</a> - &#x7A33;&#x5B9A;</div><p></p>
<p><code>child_process</code> &#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x4E86;&#x884D;&#x751F;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x80FD;&#x529B;&#xFF08;&#x4EE5;&#x4E00;&#x79CD;&#x4E0E; <a href="http://nodejs.cn/s/zGgP4K" rel="nofollow"><code>popen(3)</code></a> &#x7C7B;&#x4F3C;&#x4F46;&#x4E0D;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#xFF09;&#x3002;
&#x6B64;&#x529F;&#x80FD;&#x4E3B;&#x8981;&#x7531; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x51FD;&#x6570;&#x63D0;&#x4F9B;&#xFF1A;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);
const ls = spawn(&apos;ls&apos;, [&apos;-lh&apos;, &apos;/usr&apos;]);

ls.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(`stdout: ${data}`);
});

ls.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.error(`stderr: ${data}`);
});

ls.on(&apos;close&apos;, (code) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#xFF0C;&#x4F7F;&#x7528;&#x9000;&#x51FA;&#x7801; ${code}`);
});
</code></pre>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C; <code>stdin</code>&#x3001; <code>stdout</code> &#x548C; <code>stderr</code> &#x7684;&#x7BA1;&#x9053;&#x4F1A;&#x5728;&#x7236; Node.js &#x8FDB;&#x7A0B;&#x548C;&#x884D;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x3002;
&#x8FD9;&#x4E9B;&#x7BA1;&#x9053;&#x5177;&#x6709;&#x6709;&#x9650;&#x7684;&#xFF08;&#x4E14;&#x5E73;&#x53F0;&#x7279;&#x5B9A;&#x7684;&#xFF09;&#x5BB9;&#x91CF;&#x3002;
&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x5199;&#x5165; stdout &#x65F6;&#x8D85;&#x51FA;&#x8BE5;&#x9650;&#x5236;&#x4E14;&#x6CA1;&#x6709;&#x6355;&#x83B7;&#x8F93;&#x51FA;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x963B;&#x585E;&#x5E76;&#x7B49;&#x5F85;&#x7BA1;&#x9053;&#x7F13;&#x51B2;&#x533A;&#x63A5;&#x53D7;&#x66F4;&#x591A;&#x7684;&#x6570;&#x636E;&#x3002;
&#x8FD9;&#x4E0E; shell &#x4E2D;&#x7684;&#x7BA1;&#x9053;&#x7684;&#x884C;&#x4E3A;&#x76F8;&#x540C;&#x3002;
&#x5982;&#x679C;&#x4E0D;&#x6D88;&#x8D39;&#x8F93;&#x51FA;&#xFF0C;&#x5219;&#x4F7F;&#x7528; <code>{ stdio: &apos;ignore&apos; }</code> &#x9009;&#x9879;&#x3002;</p>
<p><a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x65B9;&#x6CD5;&#x5F02;&#x6B65;&#x5730;&#x884D;&#x751F;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E14;&#x4E0D;&#x963B;&#x585E; Node.js &#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x3002;
<a href="http://nodejs.cn/s/bmkUrE" rel="nofollow"><code>child_process.spawnSync()</code></a> &#x51FD;&#x6570;&#x5219;&#x4EE5;&#x540C;&#x6B65;&#x7684;&#x65B9;&#x5F0F;&#x63D0;&#x4F9B;&#x4E86;&#x7B49;&#x6548;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x4F1A;&#x963B;&#x585E;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x76F4;&#x5230;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x6216;&#x7EC8;&#x6B62;&#x3002;</p>
<p>&#x4E3A;&#x65B9;&#x4FBF;&#x8D77;&#x89C1;&#xFF0C; <code>child_process</code> &#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x4E86; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x548C; <a href="http://nodejs.cn/s/bmkUrE" rel="nofollow"><code>child_process.spawnSync()</code></a> &#x7684;&#x4E00;&#x4E9B;&#x540C;&#x6B65;&#x548C;&#x5F02;&#x6B65;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x3002;
&#x8FD9;&#x4E9B;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x90FD;&#x662F;&#x57FA;&#x4E8E; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x6216; <a href="http://nodejs.cn/s/bmkUrE" rel="nofollow"><code>child_process.spawnSync()</code></a> &#x5B9E;&#x73B0;&#x7684;&#x3002;</p>
<ul>
<li><a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a>: &#x884D;&#x751F;&#x4E00;&#x4E2A; shell &#x5E76;&#x5728;&#x8BE5; shell &#x4E2D;&#x8FD0;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x5F53;&#x5B8C;&#x6210;&#x65F6;&#x5219;&#x5C06; <code>stdout</code> &#x548C; <code>stderr</code> &#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</li>
<li><a href="http://nodejs.cn/s/N6uK8q" rel="nofollow"><code>child_process.execFile()</code></a>: &#x7C7B;&#x4F3C;&#x4E8E; <a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a>&#xFF0C;&#x4F46;&#x662F;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5B83;&#x4F1A;&#x76F4;&#x63A5;&#x884D;&#x751F;&#x547D;&#x4EE4;&#x800C;&#x4E0D;&#x5148;&#x884D;&#x751F; shell&#x3002;</li>
<li><a href="http://nodejs.cn/s/VDCJMa" rel="nofollow"><code>child_process.fork()</code></a>: &#x884D;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684; Node.js &#x8FDB;&#x7A0B;&#xFF0C;&#x5E76;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x8BE5;&#x6A21;&#x5757;&#x5DF2;&#x5EFA;&#x7ACB;&#x4E86; IPC &#x901A;&#x4FE1;&#x901A;&#x9053;&#xFF0C;&#x5141;&#x8BB8;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x4E0E;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x3002;</li>
<li><a href="http://nodejs.cn/s/i6KxMV" rel="nofollow"><code>child_process.execSync()</code></a>: <a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a> &#x7684;&#x540C;&#x6B65;&#x7248;&#x672C;&#xFF0C;&#x5C06;&#x4F1A;&#x963B;&#x585E; Node.js &#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x3002;</li>
<li><a href="http://nodejs.cn/s/ed75fU" rel="nofollow"><code>child_process.execFileSync()</code></a>: <a href="http://nodejs.cn/s/N6uK8q" rel="nofollow"><code>child_process.execFile()</code></a> &#x7684;&#x540C;&#x6B65;&#x7248;&#x672C;&#xFF0C;&#x5C06;&#x4F1A;&#x963B;&#x585E; Node.js &#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x3002;</li>
</ul>
<p>&#x5BF9;&#x4E8E;&#x67D0;&#x4E9B;&#x7528;&#x4F8B;&#xFF0C;&#x4F8B;&#x5982;&#x81EA;&#x52A8;&#x5316;&#x7684; shell &#x811A;&#x672C;&#xFF0C;<a href="http://nodejs.cn/s/Kexyms" rel="nofollow">&#x540C;&#x6B65;&#x7684;&#x65B9;&#x6CD5;</a>&#x53EF;&#x80FD;&#x66F4;&#x65B9;&#x4FBF;&#x3002;
&#x4F46;&#x662F;&#x5728;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x540C;&#x6B65;&#x7684;&#x65B9;&#x6CD5;&#x4F1A;&#x5BF9;&#x6027;&#x80FD;&#x4EA7;&#x751F;&#x91CD;&#x5927;&#x7684;&#x5F71;&#x54CD;&#xFF0C;&#x56E0;&#x4E3A;&#x4F1A;&#x6682;&#x505C;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x76F4;&#x5230;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x5B8C;&#x6210;&#x3002;</p>
<h2>&#x521B;&#x5EFA;&#x5F02;&#x6B65;&#x7684;&#x8FDB;&#x7A0B;<span><a class="mark" href="child_process.html#child_process_asynchronous_process_creation" id="child_process_asynchronous_process_creation">#</a></span></h2><p class="tip_wrap"><a href="child_process/asynchronous_process_creation.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/asynchronous_process_creation.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<p><a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a>&#x3001;<a href="http://nodejs.cn/s/VDCJMa" rel="nofollow"><code>child_process.fork()</code></a>&#x3001;<a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a> &#x548C; <a href="http://nodejs.cn/s/N6uK8q" rel="nofollow"><code>child_process.execFile()</code></a> &#x65B9;&#x6CD5;&#x90FD;&#x9075;&#x5FAA;&#x5176;&#x4ED6; Node.js API &#x60EF;&#x7528;&#x7684;&#x5F02;&#x6B65;&#x7F16;&#x7A0B;&#x6A21;&#x5F0F;&#x3002;</p>
<p>&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x90FD;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; <a href="http://nodejs.cn/s/uALgct" rel="nofollow"><code>ChildProcess</code></a> &#x5B9E;&#x4F8B;&#x3002;
&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x4E86; Node.js &#x7684; <a href="http://nodejs.cn/s/pGAddE" rel="nofollow"><code>EventEmitter</code></a> API&#xFF0C;&#x5141;&#x8BB8;&#x7236;&#x8FDB;&#x7A0B;&#x6CE8;&#x518C;&#x76D1;&#x542C;&#x5668;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x4E2D;&#x5F53;&#x53D1;&#x751F;&#x67D0;&#x4E9B;&#x4E8B;&#x4EF6;&#x65F6;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<p><a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a> &#x548C; <a href="http://nodejs.cn/s/N6uK8q" rel="nofollow"><code>child_process.execFile()</code></a> &#x65B9;&#x6CD5;&#x8FD8;&#x5141;&#x8BB8;&#x6307;&#x5B9A;&#x53EF;&#x9009;&#x7684; <code>callback</code> &#x51FD;&#x6570;&#xFF0C;&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x7EC8;&#x6B62;&#x65F6;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<h3>&#x5728; Windows &#x4E0A;&#x884D;&#x751F; <code>.bat</code> &#x548C; <code>.cmd</code> &#x6587;&#x4EF6;<span><a class="mark" href="child_process.html#child_process_spawning_bat_and_cmd_files_on_windows" id="child_process_spawning_bat_and_cmd_files_on_windows">#</a></span></h3><p class="tip_wrap"><a href="child_process/spawning_bat_and_cmd_files_on_windows.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/spawning_bat_and_cmd_files_on_windows.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<p><a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a> &#x548C; <a href="http://nodejs.cn/s/N6uK8q" rel="nofollow"><code>child_process.execFile()</code></a> &#x4E4B;&#x95F4;&#x533A;&#x522B;&#x7684;&#x91CD;&#x8981;&#x6027;&#x53EF;&#x80FD;&#x56E0;&#x5E73;&#x53F0;&#x800C;&#x5F02;&#x3002;
&#x5728; Unix &#x7C7B;&#x578B;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF08;Unix&#x3001;Linux&#x3001;macOS&#xFF09;&#x4E0A;&#xFF0C;<a href="http://nodejs.cn/s/N6uK8q" rel="nofollow"><code>child_process.execFile()</code></a> &#x53EF;&#x4EE5;&#x66F4;&#x9AD8;&#x6548;&#xFF0C;&#x56E0;&#x4E3A;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5B83;&#x4E0D;&#x4F1A;&#x884D;&#x751F; shell&#x3002;
&#x4F46;&#x662F;&#x5728; Windows &#x4E0A;&#xFF0C; <code>.bat</code> &#x548C; <code>.cmd</code> &#x6587;&#x4EF6;&#x5728;&#x6CA1;&#x6709;&#x7EC8;&#x7AEF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x80FD;&#x81EA;&#x884C;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x6B64;&#x65E0;&#x6CD5;&#x4F7F;&#x7528; <a href="http://nodejs.cn/s/N6uK8q" rel="nofollow"><code>child_process.execFile()</code></a> &#x542F;&#x52A8;&#x3002;
&#x5F53;&#x5728; Windows &#x4E0A;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x8981;&#x8C03;&#x7528; <code>.bat</code> &#x548C; <code>.cmd</code> &#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BBE;&#x7F6E;&#x4E86; <code>shell</code> &#x9009;&#x9879;&#x7684; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a>&#x3001;&#x6216; <a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a>&#x3001;&#x6216;&#x884D;&#x751F; <code>cmd.exe</code> &#x5E76;&#x5C06; <code>.bat</code> &#x6216; <code>.cmd</code> &#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#xFF08;&#x4E5F;&#x5C31;&#x662F; <code>shell</code> &#x9009;&#x9879;&#x548C; <a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a> &#x6240;&#x505A;&#x7684;&#xFF09;&#x3002;
&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x811A;&#x672C;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x5305;&#x542B;&#x7A7A;&#x683C;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x5F15;&#x53F7;&#x3002;</p>
<pre><code class="language-js">// &#x4EC5;&#x5728; Windows &#x4E0A;&#x3002;
const { spawn } = require(&apos;child_process&apos;);
const bat = spawn(&apos;cmd.exe&apos;, [&apos;/c&apos;, &apos;my.bat&apos;]);

bat.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(data.toString());
});

bat.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.error(data.toString());
});

bat.on(&apos;exit&apos;, (code) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#xFF0C;&#x9000;&#x51FA;&#x7801; ${code}`);
});
</code></pre>
<pre><code class="language-js">// &#x6216;&#xFF1A;
const { exec, spawn } = require(&apos;child_process&apos;);
exec(&apos;my.bat&apos;, (err, stdout, stderr) =&gt; {
  if (err) {
    console.error(err);
    return;
  }
  console.log(stdout);
});

// &#x6587;&#x4EF6;&#x540D;&#x4E2D;&#x5305;&#x542B;&#x7A7A;&#x683C;&#x7684;&#x811A;&#x672C;&#xFF1A;
const bat = spawn(&apos;&quot;my script.cmd&quot;&apos;, [&apos;a&apos;, &apos;b&apos;], { shell: true });
// &#x6216;&#xFF1A;
exec(&apos;&quot;my script.cmd&quot; a b&apos;, (err, stdout, stderr) =&gt; {
  // ...
});
</code></pre>
<h3>child_process.exec(command[, options][, callback])<span><a class="mark" href="child_process.html#child_process_child_process_exec_command_options_callback" id="child_process_child_process_exec_command_options_callback">#</a></span></h3><p class="tip_wrap"><a href="child_process/child_process_exec_command_options_callback.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_exec_command_options_callback.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p></td></tr>
<tr><td>v0.1.90</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>command</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x5E26;&#x4E0A;&#x4EE5;&#x7A7A;&#x683C;&#x5206;&#x9694;&#x7684;&#x53C2;&#x6570;&#x3002;</li>
<li>
<p><code>options</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>cwd</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>null</code>&#x3002;</li>
<li><code>env</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>process.env</code>&#x3002;</li>
<li><code>encoding</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> <strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;utf8&apos;</code>&#x3002;</li>
<li><code>shell</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x7684; shell&#x3002;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/y7VTNz" rel="nofollow">shell &#x7684;&#x8981;&#x6C42;</a>&#x4E0E; <a href="http://nodejs.cn/s/5L5sS6" rel="nofollow">Windows &#x9ED8;&#x8BA4;&#x7684; shell</a>&#x3002;
<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> Unix &#x4E0A;&#x662F; <code>&apos;/bin/sh&apos;</code>&#xFF0C;Windows &#x4E0A;&#x662F; <code>process.env.ComSpec</code>&#x3002;</li>
<li><code>timeout</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> <strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>0</code>&#x3002;</li>
<li><code>maxBuffer</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x4E0A;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x5E76;&#x4E14;&#x622A;&#x65AD;&#x4EFB;&#x4F55;&#x8F93;&#x51FA;&#x3002;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/3x5Dz3" rel="nofollow">maxBuffer &#x4E0E; Unicode</a> &#x4E2D;&#x7684;&#x8B66;&#x544A;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>1024 * 1024</code>&#x3002;</li>
<li><code>killSignal</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;integer&gt;</a> <strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><code>uid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/bUGgha" rel="nofollow"><code>setuid(2)</code></a>&#x3002;</li>
<li><code>gid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7FA4;&#x7EC4;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/64HRVx" rel="nofollow"><code>setgid(2)</code></a>&#x3002;</li>
<li><code>windowsHide</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x9690;&#x85CF;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#xFF08;&#x5728; Windows &#x7CFB;&#x7EDF;&#x4E0A;&#x901A;&#x5E38;&#x4F1A;&#x521B;&#x5EFA;&#xFF09;&#x3002;&#xFF09;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
</ul>
</li>
<li>
<p><code>callback</code> <a href="http://nodejs.cn/s/ceTQa6" target="_blank" rel="nofollow" class="type">&lt;Function&gt;</a> &#x5F53;&#x8FDB;&#x7A0B;&#x7EC8;&#x6B62;&#x65F6;&#x8C03;&#x7528;&#x5E76;&#x5E26;&#x4E0A;&#x8F93;&#x51FA;&#x3002;</p>
<ul>
<li><code>error</code> <a href="http://nodejs.cn/s/qZ873x" target="_blank" rel="nofollow" class="type">&lt;Error&gt;</a></li>
<li><code>stdout</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a></li>
<li><code>stderr</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a></li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: <a href="http://nodejs.cn/s/yQBM4n" target="_blank" rel="nofollow" class="type">&lt;ChildProcess&gt;</a></li>
</ul>
<p>&#x884D;&#x751F;&#x4E00;&#x4E2A; shell &#x7136;&#x540E;&#x5728;&#x8BE5; shell &#x4E2D;&#x6267;&#x884C; <code>command</code>&#xFF0C;&#x5E76;&#x7F13;&#x51B2;&#x4EFB;&#x4F55;&#x4EA7;&#x751F;&#x7684;&#x8F93;&#x51FA;&#x3002;
&#x4F20;&#x7ED9; exec &#x51FD;&#x6570;&#x7684; <code>command</code> &#x5B57;&#x7B26;&#x4E32;&#x7531; shell &#x76F4;&#x63A5;&#x5904;&#x7406;&#xFF0C;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#xFF08;&#x56E0; <a href="http://nodejs.cn/s/eUHhwc" rel="nofollow">shell</a> &#x800C;&#x5F02;&#xFF09;&#x9700;&#x8981;&#x76F8;&#x5E94;&#x5730;&#x5904;&#x7406;&#xFF1A;</p>
<pre><code class="language-js">exec(&apos;&quot;/path/to/test file/test.sh&quot; arg1 arg2&apos;);
// &#x4F7F;&#x7528;&#x53CC;&#x5F15;&#x53F7;&#xFF0C;&#x4EE5;&#x4FBF;&#x8DEF;&#x5F84;&#x4E2D;&#x7684;&#x7A7A;&#x683C;&#x4E0D;&#x88AB;&#x89E3;&#x6790;&#x4E3A;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x5206;&#x9694;&#x7B26;&#x3002;

exec(&apos;echo &quot;The \\$HOME variable is $HOME&quot;&apos;);
// &#x7B2C;&#x4E00;&#x4E2A; $HOME &#x53D8;&#x91CF;&#x4F1A;&#x88AB;&#x8F6C;&#x4E49;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x5219;&#x4E0D;&#x4F1A;&#x3002;
</code></pre>
<p>&#x5207;&#x52FF;&#x5C06;&#x672A;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x7ED9;&#x6B64;&#x51FD;&#x6570;&#x3002;
&#x5305;&#x542B; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x4EFB;&#x4F55;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x610F;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<p>&#x5982;&#x679C;&#x63D0;&#x4F9B;&#x4E86; <code>callback</code>&#xFF0C;&#x5219;&#x8C03;&#x7528;&#x65F6;&#x4F20;&#x5165;&#x53C2;&#x6570; <code>(error, stdout, stderr)</code>&#x3002;
&#x5F53;&#x6210;&#x529F;&#x65F6;&#xFF0C;&#x5219; <code>error</code> &#x5C06;&#x4F1A;&#x4E3A; <code>null</code>&#x3002;
&#x5F53;&#x51FA;&#x9519;&#x65F6;&#xFF0C;&#x5219; <code>error</code> &#x5C06;&#x4F1A;&#x662F; <a href="http://nodejs.cn/s/FLTm19" rel="nofollow"><code>Error</code></a> &#x7684;&#x5B9E;&#x4F8B;&#x3002;
<code>error.code</code> &#x5C5E;&#x6027;&#x5C06;&#x4F1A;&#x662F;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF0C; <code>error.signal</code> &#x5C06;&#x4F1A;&#x88AB;&#x8BBE;&#x4E3A;&#x7EC8;&#x6B62;&#x8FDB;&#x7A0B;&#x7684;&#x4FE1;&#x53F7;&#x3002;
&#x9664; <code>0</code> &#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x9000;&#x51FA;&#x7801;&#x90FD;&#x88AB;&#x89C6;&#x4E3A;&#x51FA;&#x9519;&#x3002;</p>
<p>&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x7684; <code>stdout</code> &#x548C; <code>stderr</code> &#x53C2;&#x6570;&#x5C06;&#x4F1A;&#x5305;&#x542B;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdout &#x548C; stderr &#x8F93;&#x51FA;&#x3002;
&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Node.js &#x4F1A;&#x5C06;&#x8F93;&#x51FA;&#x89E3;&#x7801;&#x4E3A; UTF-8 &#x5E76;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x3002;
<code>encoding</code> &#x9009;&#x9879;&#x53EF;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x7528;&#x4E8E;&#x89E3;&#x7801; stdout &#x548C; stderr &#x8F93;&#x51FA;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x3002;
&#x5982;&#x679C; <code>encoding</code> &#x662F; <code>&apos;buffer&apos;</code> &#x6216;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#xFF0C;&#x5219;&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x7684;&#x5C06;&#x4F1A;&#x662F; <code>Buffer</code> &#x5BF9;&#x8C61;&#x3002;</p>
<pre><code class="language-js">const { exec } = require(&apos;child_process&apos;);
exec(&apos;cat *.js missing_file | wc -l&apos;, (error, stdout, stderr) =&gt; {
  if (error) {
    console.error(`&#x6267;&#x884C;&#x7684;&#x9519;&#x8BEF;: ${error}`);
    return;
  }
  console.log(`stdout: ${stdout}`);
  console.error(`stderr: ${stderr}`);
});
</code></pre>
<p>&#x5982;&#x679C; <code>timeout</code> &#x5927;&#x4E8E; <code>0</code>&#xFF0C;&#x5219;&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x8D85;&#x8FC7; <code>timeout</code> &#x6BEB;&#x79D2;&#x65F6;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x53D1;&#x9001;&#x5E26; <code>killSignal</code> &#x5C5E;&#x6027;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;SIGTERM&apos;</code>&#xFF09;&#x7684;&#x4FE1;&#x53F7;&#x3002;</p>
<p>&#x4E0E; <a href="http://nodejs.cn/s/rVeqwf" rel="nofollow"><code>exec(3)</code></a> &#x7684; POSIX &#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x4E0D;&#x540C;&#xFF0C; <code>child_process.exec()</code> &#x4E0D;&#x4F1A;&#x66FF;&#x6362;&#x73B0;&#x6709;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E14;&#x4F7F;&#x7528; shell &#x6765;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x7684; <a href="http://nodejs.cn/s/DGMNHh" rel="nofollow"><code>util.promisify()</code></a> &#x7248;&#x672C;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x7684; <code>Promise</code> &#x4F1A;&#x8FD4;&#x56DE;&#x5177;&#x6709; <code>stdout</code> &#x5C5E;&#x6027;&#x548C; <code>stderr</code> &#x5C5E;&#x6027;&#x7684; <code>Object</code>&#x3002;
&#x8FD4;&#x56DE;&#x7684; <code>ChildProcess</code> &#x5B9E;&#x4F8B;&#x4F1A;&#x4F5C;&#x4E3A; <code>child</code> &#x5C5E;&#x6027;&#x9644;&#x52A0;&#x5230;&#x8BE5; <code>Promise</code>&#x3002;
&#x5982;&#x679C;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF08;&#x5305;&#x62EC;&#x5BFC;&#x81F4;&#x9000;&#x51FA;&#x7801;&#x4E0D;&#x662F; 0 &#x7684;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#xFF09;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x88AB;&#x62D2;&#x7EDD;&#x7684; Promise&#xFF0C;&#x5E76;&#x5E26;&#x4E0A;&#x4E0E;&#x56DE;&#x8C03;&#x4E2D;&#x76F8;&#x540C;&#x7684; <code>error</code> &#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x6709;&#x4E24;&#x4E2A;&#x53E6;&#x5916;&#x7684;&#x5C5E;&#x6027; <code>stdout</code> &#x548C; <code>stderr</code>&#x3002;</p>
<pre><code class="language-js">const util = require(&apos;util&apos;);
const exec = util.promisify(require(&apos;child_process&apos;).exec);

async function lsExample() {
  const { stdout, stderr } = await exec(&apos;ls&apos;);
  console.log(&apos;stdout:&apos;, stdout);
  console.error(&apos;stderr:&apos;, stderr);
}
lsExample();
</code></pre>
<h3>child_process.execFile(file[, args][, options][, callback])<span><a class="mark" href="child_process.html#child_process_child_process_execfile_file_args_options_callback" id="child_process_child_process_execfile_file_args_options_callback">#</a></span></h3><p class="tip_wrap"><a href="child_process/child_process_execfile_file_args_options_callback.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_execfile_file_args_options_callback.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p></td></tr>
<tr><td>v0.1.91</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.1.91</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>file</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x6216;&#x8DEF;&#x5F84;&#x3002;</li>
<li><code>args</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string[]&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x7684;&#x5217;&#x8868;&#x3002;</li>
<li>
<p><code>options</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>cwd</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>env</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>process.env</code>&#x3002;</li>
<li><code>encoding</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B57;&#x7B26;&#x7F16;&#x7801;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;utf8&apos;</code>&#x3002;</li>
<li><code>timeout</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> <strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>0</code>&#x3002;</li>
<li><code>maxBuffer</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x4E0A;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x5E76;&#x4E14;&#x622A;&#x65AD;&#x4EFB;&#x4F55;&#x8F93;&#x51FA;&#x3002;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/3x5Dz3" rel="nofollow">maxBuffer &#x4E0E; Unicode</a> &#x4E2D;&#x7684;&#x8B66;&#x544A;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>1024 * 1024</code>&#x3002;</li>
<li><code>killSignal</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;integer&gt;</a> <strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><code>uid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/bUGgha" rel="nofollow"><code>setuid(2)</code></a>&#x3002;</li>
<li><code>gid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7FA4;&#x7EC4;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/64HRVx" rel="nofollow"><code>setgid(2)</code></a>&#x3002;</li>
<li><code>windowsHide</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x9690;&#x85CF;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#xFF08;&#x5728; Windows &#x7CFB;&#x7EDF;&#x4E0A;&#x901A;&#x5E38;&#x4F1A;&#x521B;&#x5EFA;&#xFF09;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
<li><code>windowsVerbatimArguments</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x5728; Windows &#x4E0A;&#x4E0D;&#x4E3A;&#x53C2;&#x6570;&#x52A0;&#x4E0A;&#x5F15;&#x53F7;&#x6216;&#x8F6C;&#x4E49;&#x3002;&#x5728; Unix &#x4E0A;&#x5FFD;&#x7565;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
<li><code>shell</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5982;&#x679C;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5728; shell &#x4E2D;&#x8FD0;&#x884C; <code>command</code>&#x3002;
&#x5728; Unix &#x4E0A;&#x4F7F;&#x7528; <code>&apos;/bin/sh&apos;</code>&#xFF0C;&#x5728; Windows &#x4E0A;&#x4F7F;&#x7528; <code>process.env.ComSpec</code>&#x3002;
&#x53EF;&#x4EE5;&#x5C06;&#x4E0D;&#x540C;&#x7684; shell &#x6307;&#x5B9A;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
&#x53C2;&#x9605; <a href="http://nodejs.cn/s/y7VTNz" rel="nofollow">shell &#x7684;&#x8981;&#x6C42;</a>&#x4E0E; <a href="http://nodejs.cn/s/5L5sS6" rel="nofollow">Windows &#x9ED8;&#x8BA4;&#x7684; shell</a>&#x3002;
<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#xFF08;&#x6CA1;&#x6709; shell&#xFF09;&#x3002;</li>
</ul>
</li>
<li>
<p><code>callback</code> <a href="http://nodejs.cn/s/ceTQa6" target="_blank" rel="nofollow" class="type">&lt;Function&gt;</a> &#x5F53;&#x8FDB;&#x7A0B;&#x7EC8;&#x6B62;&#x65F6;&#x8C03;&#x7528;&#x5E76;&#x5E26;&#x4E0A;&#x8F93;&#x51FA;&#x3002;</p>
<ul>
<li><code>error</code> <a href="http://nodejs.cn/s/qZ873x" target="_blank" rel="nofollow" class="type">&lt;Error&gt;</a></li>
<li><code>stdout</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a></li>
<li><code>stderr</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a></li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: <a href="http://nodejs.cn/s/yQBM4n" target="_blank" rel="nofollow" class="type">&lt;ChildProcess&gt;</a></li>
</ul>
<p><code>child_process.execFile()</code> &#x51FD;&#x6570;&#x7C7B;&#x4F3C;&#x4E8E; <a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a>&#xFF0C;&#x4F46;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x4F1A;&#x884D;&#x751F; shell&#x3002;
&#x76F8;&#x53CD;&#xFF0C;&#x6307;&#x5B9A;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6; <code>file</code> &#x4F1A;&#x4F5C;&#x4E3A;&#x65B0;&#x8FDB;&#x7A0B;&#x76F4;&#x63A5;&#x5730;&#x884D;&#x751F;&#xFF0C;&#x4F7F;&#x5176;&#x6BD4; <code>child_process.exec()</code> &#x7A0D;&#x5FAE;&#x66F4;&#x9AD8;&#x6548;&#x3002;</p>
<p>&#x652F;&#x6301;&#x4E0E; <a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a> &#x76F8;&#x540C;&#x7684;&#x9009;&#x9879;&#x3002;
&#x7531;&#x4E8E;&#x6CA1;&#x6709;&#x884D;&#x751F; shell&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x652F;&#x6301; I/O &#x91CD;&#x5B9A;&#x5411;&#x548C;&#x6587;&#x4EF6;&#x901A;&#x914D;&#x7B49;&#x884C;&#x4E3A;&#x3002;</p>
<pre><code class="language-js">const { execFile } = require(&apos;child_process&apos;);
const child = execFile(&apos;node&apos;, [&apos;--version&apos;], (error, stdout, stderr) =&gt; {
  if (error) {
    throw error;
  }
  console.log(stdout);
});
</code></pre>
<p>&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x7684; <code>stdout</code> &#x548C; <code>stderr</code> &#x53C2;&#x6570;&#x5C06;&#x4F1A;&#x5305;&#x542B;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdout &#x548C; stderr &#x8F93;&#x51FA;&#x3002;
&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Node.js &#x4F1A;&#x5C06;&#x8F93;&#x51FA;&#x89E3;&#x7801;&#x4E3A; UTF-8 &#x5E76;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x3002;
<code>encoding</code> &#x9009;&#x9879;&#x53EF;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x7528;&#x4E8E;&#x89E3;&#x7801; stdout &#x548C; stderr &#x8F93;&#x51FA;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x3002;
&#x5982;&#x679C; <code>encoding</code> &#x662F; <code>&apos;buffer&apos;</code> &#x6216;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#xFF0C;&#x5219;&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x7684;&#x5C06;&#x4F1A;&#x662F; <code>Buffer</code> &#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x7684; <a href="http://nodejs.cn/s/DGMNHh" rel="nofollow"><code>util.promisify()</code></a> &#x7248;&#x672C;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x7684; <code>Promise</code> &#x4F1A;&#x8FD4;&#x56DE;&#x5177;&#x6709; <code>stdout</code> &#x5C5E;&#x6027;&#x548C; <code>stderr</code> &#x5C5E;&#x6027;&#x7684; <code>Object</code>&#x3002;
&#x8FD4;&#x56DE;&#x7684; <code>ChildProcess</code> &#x5B9E;&#x4F8B;&#x4F1A;&#x4F5C;&#x4E3A; <code>child</code> &#x5C5E;&#x6027;&#x9644;&#x52A0;&#x5230;&#x8BE5; <code>Promise</code>&#x3002;
&#x5982;&#x679C;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#xFF08;&#x5305;&#x62EC;&#x5BFC;&#x81F4;&#x9000;&#x51FA;&#x7801;&#x4E0D;&#x662F; 0 &#x7684;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#xFF09;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x88AB;&#x62D2;&#x7EDD;&#x7684; Promise&#xFF0C;&#x5E76;&#x5E26;&#x4E0A;&#x4E0E;&#x56DE;&#x8C03;&#x4E2D;&#x76F8;&#x540C;&#x7684; <code>error</code> &#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x6709;&#x4E24;&#x4E2A;&#x53E6;&#x5916;&#x7684;&#x5C5E;&#x6027; <code>stdout</code> &#x548C; <code>stderr</code>&#x3002;</p>
<pre><code class="language-js">const util = require(&apos;util&apos;);
const execFile = util.promisify(require(&apos;child_process&apos;).execFile);
async function getVersion() {
  const { stdout } = await execFile(&apos;node&apos;, [&apos;--version&apos;]);
  console.log(stdout);
}
getVersion();
</code></pre>
<p>&#x5982;&#x679C;&#x542F;&#x7528;&#x4E86; <code>shell</code> &#x9009;&#x9879;&#xFF0C;&#x5219;&#x4E0D;&#x8981;&#x5C06;&#x672A;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x7ED9;&#x6B64;&#x51FD;&#x6570;&#x3002;
&#x5305;&#x542B; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x4EFB;&#x4F55;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x610F;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<h3>child_process.fork(modulePath[, args][, options])<span><a class="mark" href="child_process.html#child_process_child_process_fork_modulepath_args_options" id="child_process_child_process_fork_modulepath_args_options">#</a></span></h3><p class="tip_wrap"><a href="child_process/child_process_fork_modulepath_args_options.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_fork_modulepath_args_options.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.0.0</td>
<td><p>The <code>stdio</code> option can now be a string.</p></td></tr>
<tr><td>v6.4.0</td>
<td><p>The <code>stdio</code> option is supported now.</p></td></tr>
<tr><td>v0.5.0</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.5.0</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>modulePath</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x8981;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x8FD0;&#x884C;&#x7684;&#x6A21;&#x5757;&#x3002;</li>
<li><code>args</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string[]&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x7684;&#x5217;&#x8868;&#x3002;</li>
<li>
<p><code>options</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>cwd</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>detached</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x51C6;&#x5907;&#x5B50;&#x8FDB;&#x7A0B;&#x72EC;&#x7ACB;&#x4E8E;&#x5176;&#x7236;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x3002;&#x5177;&#x4F53;&#x884C;&#x4E3A;&#x53D6;&#x51B3;&#x4E8E;&#x5E73;&#x53F0;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/Zz33Wb" rel="nofollow"><code>options.detached</code></a>&#x3002;</li>
<li><code>env</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>process.env</code>&#x3002;</li>
<li><code>execPath</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x3002;</li>
<li><code>execArgv</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string[]&gt;</a> &#x4F20;&#x7ED9;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x7684;&#x5217;&#x8868;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>process.execArgv</code>&#x3002;</li>
<li><code>silent</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x5982;&#x679C;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdin&#x3001;stdout &#x548C; stderr &#x5C06;&#x4F1A;&#x88AB;&#x8F93;&#x9001;&#x5230;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;&#x5426;&#x5219;&#x5B83;&#x4EEC;&#x5C06;&#x4F1A;&#x7EE7;&#x627F;&#x81EA;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;&#x8BE6;&#x89C1; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x7684; <a href="http://nodejs.cn/s/ixmPX9" rel="nofollow"><code>stdio</code></a> &#x4E2D;&#x7684; <code>&apos;pipe&apos;</code> &#x548C; <code>&apos;inherit&apos;</code> &#x9009;&#x9879;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
<li><code>stdio</code> <a href="http://nodejs.cn/s/ZJSz23" target="_blank" rel="nofollow" class="type">&lt;Array&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x53C2;&#x9605; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x7684; <a href="http://nodejs.cn/s/ixmPX9" rel="nofollow"><code>stdio</code></a>&#x3002;&#x5F53;&#x63D0;&#x4F9B;&#x6B64;&#x9009;&#x9879;&#x65F6;&#xFF0C;&#x5219;&#x5B83;&#x8986;&#x76D6; <code>silent</code> &#x9009;&#x9879;&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86;&#x6570;&#x7EC4;&#x53D8;&#x91CF;&#xFF0C;&#x5219;&#x5B83;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x503C;&#x4E3A; <code>&apos;ipc&apos;</code> &#x7684;&#x5143;&#x7D20;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002;&#x4F8B;&#x5982; <code>[0, 1, 2, &apos;ipc&apos;]</code>&#x3002;</li>
<li><code>windowsVerbatimArguments</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x5728; Windows &#x4E0A;&#x4E0D;&#x4E3A;&#x53C2;&#x6570;&#x52A0;&#x4E0A;&#x5F15;&#x53F7;&#x6216;&#x8F6C;&#x4E49;&#x3002;&#x5728; Unix &#x4E0A;&#x5219;&#x5FFD;&#x7565;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
<li><code>uid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/bUGgha" rel="nofollow"><code>setuid(2)</code></a>&#x3002;</li>
<li><code>gid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7FA4;&#x7EC4;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/64HRVx" rel="nofollow"><code>setgid(2)</code></a>&#x3002;</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: <a href="http://nodejs.cn/s/yQBM4n" target="_blank" rel="nofollow" class="type">&lt;ChildProcess&gt;</a></li>
</ul>
<p><code>child_process.fork()</code> &#x65B9;&#x6CD5;&#x662F; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x7684;&#x4E00;&#x4E2A;&#x7279;&#x4F8B;&#xFF0C;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x884D;&#x751F;&#x65B0;&#x7684; Node.js &#x8FDB;&#x7A0B;&#x3002;
&#x4E0E; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x4E00;&#x6837;&#x8FD4;&#x56DE; <a href="http://nodejs.cn/s/uALgct" rel="nofollow"><code>ChildProcess</code></a> &#x5BF9;&#x8C61;&#x3002;
&#x8FD4;&#x56DE;&#x7684; <a href="http://nodejs.cn/s/uALgct" rel="nofollow"><code>ChildProcess</code></a> &#x5C06;&#x4F1A;&#x5185;&#x7F6E;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x7684;&#x901A;&#x4FE1;&#x901A;&#x9053;&#xFF0C;&#x5141;&#x8BB8;&#x6D88;&#x606F;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x6765;&#x56DE;&#x4F20;&#x9012;&#x3002;
&#x8BE6;&#x89C1; <a href="http://nodejs.cn/s/Eggixm" rel="nofollow"><code>subprocess.send()</code></a>&#x3002;</p>
<p>&#x8BB0;&#x4F4F;&#xFF0C;&#x884D;&#x751F;&#x7684; Node.js &#x5B50;&#x8FDB;&#x7A0B;&#x72EC;&#x7ACB;&#x4E8E;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;&#x4F46;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x7684; IPC &#x901A;&#x4FE1;&#x901A;&#x9053;&#x9664;&#x5916;&#x3002;
&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x5E26;&#x6709;&#x81EA;&#x5DF1;&#x7684; V8 &#x5B9E;&#x4F8B;&#x3002;
&#x7531;&#x4E8E;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x8D44;&#x6E90;&#x5206;&#x914D;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x5EFA;&#x8BAE;&#x884D;&#x751F;&#x5927;&#x91CF;&#x7684; Node.js &#x5B50;&#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C; <code>child_process.fork()</code> &#x5C06;&#x4F1A;&#x4F7F;&#x7528;&#x7236;&#x8FDB;&#x7A0B;&#x7684; <a href="http://nodejs.cn/s/MCrAya" rel="nofollow"><code>process.execPath</code></a> &#x6765;&#x884D;&#x751F;&#x65B0;&#x7684; Node.js &#x5B9E;&#x4F8B;&#x3002;
<code>options</code> &#x5BF9;&#x8C61;&#x4E2D;&#x7684; <code>execPath</code> &#x5C5E;&#x6027;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x7684;&#x6267;&#x884C;&#x8DEF;&#x5F84;&#x3002;</p>
<p>&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7684; <code>execPath</code> &#x542F;&#x52A8;&#x7684; Node.js &#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF08;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0A;&#x4F7F;&#x7528;&#x73AF;&#x5883;&#x53D8;&#x91CF; <code>NODE_CHANNEL_FD</code> &#x6807;&#x8BC6;&#xFF09;&#x4E0E;&#x7236;&#x8FDB;&#x7A0B;&#x901A;&#x4FE1;&#x3002;</p>
<p>&#x4E0E; <a href="http://nodejs.cn/s/mbvoBz" rel="nofollow"><code>fork(2)</code></a> &#x7684; POSIX &#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x4E0D;&#x540C;&#xFF0C; <code>child_process.fork()</code> &#x4E0D;&#x4F1A;&#x514B;&#x9686;&#x5F53;&#x524D;&#x7684;&#x8FDB;&#x7A0B;&#x3002;</p>
<p><a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x4E2D;&#x53EF;&#x7528;&#x7684; <code>shell</code> &#x9009;&#x9879;&#x5728; <code>child_process.fork()</code> &#x4E2D;&#x4E0D;&#x652F;&#x6301;&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x5219;&#x5C06;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;&#x3002;</p>
<h3>child_process.spawn(command[, args][, options])<span><a class="mark" href="child_process.html#child_process_child_process_spawn_command_args_options" id="child_process_child_process_spawn_command_args_options">#</a></span></h3><p class="tip_wrap"><a href="child_process/child_process_spawn_command_args_options.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_spawn_command_args_options.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p></td></tr>
<tr><td>v6.4.0</td>
<td><p>The <code>argv0</code> option is supported now.</p></td></tr>
<tr><td>v5.7.0</td>
<td><p>The <code>shell</code> option is supported now.</p></td></tr>
<tr><td>v0.1.90</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>command</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002;</li>
<li><code>args</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string[]&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x7684;&#x5217;&#x8868;&#x3002;</li>
<li>
<p><code>options</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>cwd</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>env</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>process.env</code>&#x3002;</li>
<li><code>argv0</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x663E;&#x5F0F;&#x5730;&#x8BBE;&#x7F6E;&#x53D1;&#x9001;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>argv[0]</code> &#x7684;&#x503C;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x5219;&#x5C06;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; <code>command</code> &#x7684;&#x503C;&#x3002;</li>
<li><code>stdio</code> <a href="http://nodejs.cn/s/ZJSz23" target="_blank" rel="nofollow" class="type">&lt;Array&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x914D;&#x7F6E;&#x3002;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/ixmPX9" rel="nofollow"><code>options.stdio</code></a>&#x3002;</li>
<li><code>detached</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x51C6;&#x5907;&#x5B50;&#x8FDB;&#x7A0B;&#x72EC;&#x7ACB;&#x4E8E;&#x5176;&#x7236;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x3002;&#x5177;&#x4F53;&#x884C;&#x4E3A;&#x53D6;&#x51B3;&#x4E8E;&#x5E73;&#x53F0;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/Zz33Wb" rel="nofollow"><code>options.detached</code></a>&#x3002;</li>
<li><code>uid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/bUGgha" rel="nofollow"><code>setuid(2)</code></a>&#x3002;</li>
<li><code>gid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7FA4;&#x7EC4;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/64HRVx" rel="nofollow"><code>setgid(2)</code></a>&#x3002;</li>
<li><code>shell</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5982;&#x679C;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5728; shell &#x4E2D;&#x8FD0;&#x884C; <code>command</code>&#x3002;
&#x5728; Unix &#x4E0A;&#x4F7F;&#x7528; <code>&apos;/bin/sh&apos;</code>&#xFF0C;&#x5728; Windows &#x4E0A;&#x4F7F;&#x7528; <code>process.env.ComSpec</code>&#x3002;
&#x53EF;&#x4EE5;&#x5C06;&#x4E0D;&#x540C;&#x7684; shell &#x6307;&#x5B9A;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
&#x53C2;&#x9605; <a href="http://nodejs.cn/s/y7VTNz" rel="nofollow">shell &#x7684;&#x8981;&#x6C42;</a>&#x4E0E; <a href="http://nodejs.cn/s/5L5sS6" rel="nofollow">Windows &#x9ED8;&#x8BA4;&#x7684; shell</a>&#x3002;
<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#xFF08;&#x6CA1;&#x6709; shell&#xFF09;&#x3002;</li>
<li><code>windowsVerbatimArguments</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x5728; Windows &#x4E0A;&#x4E0D;&#x4E3A;&#x53C2;&#x6570;&#x52A0;&#x4E0A;&#x5F15;&#x53F7;&#x6216;&#x8F6C;&#x4E49;&#x3002;&#x5728; Unix &#x4E0A;&#x5FFD;&#x7565;&#x3002;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86; <code>shell</code> &#x5E76;&#x4E14;&#x662F; CMD&#xFF0C;&#x5219;&#x81EA;&#x52A8;&#x8BBE;&#x4E3A; <code>true</code>&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
<li><code>windowsHide</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x9690;&#x85CF;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#xFF08;&#x5728; Windows &#x7CFB;&#x7EDF;&#x4E0A;&#x901A;&#x5E38;&#x4F1A;&#x521B;&#x5EFA;&#xFF09;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: <a href="http://nodejs.cn/s/yQBM4n" target="_blank" rel="nofollow" class="type">&lt;ChildProcess&gt;</a></li>
</ul>
<p><code>child_process.spawn()</code> &#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x7ED9;&#x5B9A;&#x7684; <code>command</code> &#x884D;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x8FDB;&#x7A0B;&#xFF0C;&#x5E76;&#x5E26;&#x4E0A; <code>args</code> &#x4E2D;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x3002;
&#x5982;&#x679C;&#x7701;&#x7565; <code>args</code>&#xFF0C;&#x5219;&#x5176;&#x9ED8;&#x8BA4;&#x4E3A;&#x4E00;&#x4E2A;&#x7A7A;&#x6570;&#x7EC4;&#x3002;</p>
<p>&#x5982;&#x679C;&#x542F;&#x7528;&#x4E86; <code>shell</code> &#x9009;&#x9879;&#xFF0C;&#x5219;&#x4E0D;&#x8981;&#x5C06;&#x672A;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x7ED9;&#x6B64;&#x51FD;&#x6570;&#x3002;
&#x5305;&#x542B; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x4EFB;&#x4F55;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x610F;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<p>&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x53EF;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x989D;&#x5916;&#x7684;&#x9009;&#x9879;&#xFF0C;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x9ED8;&#x8BA4;&#x503C;&#xFF1A;</p>
<pre><code class="language-js">const defaults = {
  cwd: undefined,
  env: process.env
};
</code></pre>
<p>&#x4F7F;&#x7528; <code>cwd</code> &#x6307;&#x5B9A;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;
&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7ED9;&#x5B9A;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;&#x7EE7;&#x627F;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</p>
<p>&#x4F7F;&#x7528; <code>env</code> &#x6307;&#x5B9A;&#x65B0;&#x8FDB;&#x7A0B;&#x7684;&#x53EF;&#x89C1;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; <a href="http://nodejs.cn/s/vFJ6HL" rel="nofollow"><code>process.env</code></a>&#x3002;</p>
<p><code>env</code> &#x4E2D;&#x7684; <code>undefined</code> &#x503C;&#x5C06;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;&#x3002;</p>
<p>&#x793A;&#x4F8B;&#xFF0C;&#x8FD0;&#x884C; <code>ls -lh /usr</code>&#xFF0C;&#x5E76;&#x6355;&#x83B7; <code>stdout</code>&#x3001; <code>stderr</code>&#x3001;&#x4EE5;&#x53CA;&#x9000;&#x51FA;&#x7801;&#xFF1A;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);
const ls = spawn(&apos;ls&apos;, [&apos;-lh&apos;, &apos;/usr&apos;]);

ls.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(`stdout: ${data}`);
});

ls.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.error(`stderr: ${data}`);
});

ls.on(&apos;close&apos;, (code) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#xFF0C;&#x9000;&#x51FA;&#x7801; ${code}`);
});
</code></pre>
<p>&#x793A;&#x4F8B;&#xFF0C;&#x4E00;&#x79CD;&#x975E;&#x5E38;&#x7CBE;&#x7EC6;&#x7684;&#x8FD0;&#x884C; <code>ps ax | grep ssh</code> &#x7684;&#x65B9;&#x5F0F;&#xFF1A;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);
const ps = spawn(&apos;ps&apos;, [&apos;ax&apos;]);
const grep = spawn(&apos;grep&apos;, [&apos;ssh&apos;]);

ps.stdout.on(&apos;data&apos;, (data) =&gt; {
  grep.stdin.write(data);
});

ps.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.error(`ps stderr: ${data}`);
});

ps.on(&apos;close&apos;, (code) =&gt; {
  if (code !== 0) {
    console.log(`ps &#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#xFF0C;&#x9000;&#x51FA;&#x7801; ${code}`);
  }
  grep.stdin.end();
});

grep.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(data.toString());
});

grep.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.error(`grep stderr: ${data}`);
});

grep.on(&apos;close&apos;, (code) =&gt; {
  if (code !== 0) {
    console.log(`grep &#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#xFF0C;&#x9000;&#x51FA;&#x7801; ${code}`);
  }
});
</code></pre>
<p>&#x793A;&#x4F8B;&#xFF0C;&#x68C0;&#x67E5;&#x5931;&#x8D25;&#x7684; <code>spawn</code>&#xFF1A;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);
const subprocess = spawn(&apos;bad_command&apos;);

subprocess.on(&apos;error&apos;, (err) =&gt; {
  console.error(&apos;&#x542F;&#x52A8;&#x5B50;&#x8FDB;&#x7A0B;&#x5931;&#x8D25;&apos;);
});
</code></pre>
<p>&#x67D0;&#x4E9B;&#x5E73;&#x53F0;&#xFF08;macOS&#x3001;Linux&#xFF09;&#x4F7F;&#x7528; <code>argv[0]</code> &#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x9898;&#xFF0C;&#x5176;&#x4ED6;&#x5E73;&#x53F0;&#xFF08;Windows&#x3001;SunOS&#xFF09;&#x5219;&#x4F7F;&#x7528; <code>command</code>&#x3002;</p>
<p>Node.js &#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x4F7F;&#x7528; <code>process.execPath</code> &#x8986;&#x76D6; <code>argv[0]</code>&#xFF0C;&#x56E0;&#x6B64; Node.js &#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>process.argv[0]</code> &#x4E0E;&#x4ECE;&#x7236;&#x8FDB;&#x7A0B;&#x4F20;&#x7ED9; <code>spawn</code> &#x7684; <code>argv0</code> &#x53C2;&#x6570;&#x4E0D;&#x4F1A;&#x5339;&#x914D;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>process.argv0</code> &#x5C5E;&#x6027;&#x83B7;&#x53D6;&#x3002;</p>
<h4>options.detached<span><a class="mark" href="child_process.html#child_process_options_detached" id="child_process_options_detached">#</a></span></h4><p class="tip_wrap"><a href="child_process/options_detached.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/options_detached.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.10</span>
</div>
<p>&#x5728; Windows &#x4E0A;&#xFF0C;&#x8BBE;&#x7F6E; <code>options.detached</code> &#x4E3A; <code>true</code> &#x53EF;&#x4EE5;&#x4F7F;&#x5B50;&#x8FDB;&#x7A0B;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x540E;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x3002;
&#x5B50;&#x8FDB;&#x7A0B;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#x3002;
&#x4E00;&#x65E6;&#x4E3A;&#x5B50;&#x8FDB;&#x7A0B;&#x542F;&#x7528;&#x5B83;&#xFF0C;&#x5219;&#x65E0;&#x6CD5;&#x88AB;&#x7981;&#x7528;&#x3002;</p>
<p>&#x5728;&#x975E; Windows &#x5E73;&#x53F0;&#x4E0A;&#xFF0C;&#x5982;&#x679C; <code>options.detached</code> &#x8BBE;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x6210;&#x4E3A;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#x7EC4;&#x548C;&#x4F1A;&#x8BDD;&#x7684;&#x4E3B;&#x5BFC;&#x8005;&#x3002;
&#x5B50;&#x8FDB;&#x7A0B;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x540E;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF0C;&#x4E0D;&#x7BA1;&#x5B83;&#x4EEC;&#x662F;&#x5426;&#x88AB;&#x5206;&#x79BB;&#x3002;
&#x8BE6;&#x89C1; <a href="http://nodejs.cn/s/sJk7DY" rel="nofollow"><code>setsid(2)</code></a>&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x7B49;&#x5F85;&#x88AB;&#x5206;&#x79BB;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;
&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x7236;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85; <code>subprocess</code>&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>subprocess.unref()</code> &#x65B9;&#x6CD5;&#x3002;
&#x8FD9;&#x6837;&#x505A;&#x5C06;&#x4F1A;&#x5BFC;&#x81F4;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x4E0D;&#x4F1A;&#x5C06;&#x5B50;&#x8FDB;&#x7A0B;&#x5305;&#x542B;&#x5728;&#x5176;&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x4E2D;&#xFF0C;&#x4F7F;&#x5F97;&#x7236;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x4E8E;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#xFF0C;&#x9664;&#x975E;&#x5B50;&#x8FDB;&#x7A0B;&#x548C;&#x7236;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x4E86; IPC &#x901A;&#x9053;&#x3002;</p>
<p>&#x5F53;&#x4F7F;&#x7528; <code>detached</code> &#x9009;&#x9879;&#x6765;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x957F;&#x671F;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x8BE5;&#x8FDB;&#x7A0B;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x540E;&#x5C06;&#x4E0D;&#x4F1A;&#x4FDD;&#x6301;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x9664;&#x975E;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x4E0D;&#x8FDE;&#x63A5;&#x5230;&#x7236;&#x8FDB;&#x7A0B;&#x7684; <code>stdio</code> &#x914D;&#x7F6E;&#x3002;
&#x5982;&#x679C;&#x7236;&#x8FDB;&#x7A0B;&#x7684; <code>stdio</code> &#x662F;&#x7EE7;&#x627F;&#x7684;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x4FDD;&#x6301;&#x7ED1;&#x5B9A;&#x5230;&#x63A7;&#x5236;&#x7EC8;&#x7AEF;&#x3002;</p>
<p>&#x793A;&#x4F8B;&#xFF0C;&#x4E00;&#x4E2A;&#x957F;&#x671F;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E3A;&#x4E86;&#x5FFD;&#x89C6;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x7EC8;&#x6B62;&#xFF0C;&#x901A;&#x8FC7;&#x5206;&#x79BB;&#x4E14;&#x5FFD;&#x89C6;&#x5176;&#x7236;&#x8FDB;&#x7A0B;&#x7684; <code>stdio</code> &#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x6765;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);

const subprocess = spawn(process.argv[0], [&apos;child_program.js&apos;], {
  detached: true,
  stdio: &apos;ignore&apos;
});

subprocess.unref();
</code></pre>
<p>&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x8F93;&#x51FA;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x6587;&#x4EF6;&#xFF1A;</p>
<pre><code class="language-js">const fs = require(&apos;fs&apos;);
const { spawn } = require(&apos;child_process&apos;);
const out = fs.openSync(&apos;./out.log&apos;, &apos;a&apos;);
const err = fs.openSync(&apos;./out.log&apos;, &apos;a&apos;);

const subprocess = spawn(&apos;prg&apos;, [], {
  detached: true,
  stdio: [ &apos;ignore&apos;, out, err ]
});

subprocess.unref();
</code></pre>
<h4>options.stdio<span><a class="mark" href="child_process.html#child_process_options_stdio" id="child_process_options_stdio">#</a></span></h4><p class="tip_wrap"><a href="child_process/options_stdio.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/options_stdio.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v3.3.1</td>
<td><p>The value <code>0</code> is now accepted as a file descriptor.</p></td></tr>
<tr><td>v0.7.10</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.7.10</span></p></td></tr>
</tbody></table>
</details>
</div>
<p><code>options.stdio</code> &#x9009;&#x9879;&#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x7684;&#x7BA1;&#x9053;&#x3002;
&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdin&#x3001; stdout &#x548C; stderr &#x4F1A;&#x88AB;&#x91CD;&#x5B9A;&#x5411;&#x5230; <a href="http://nodejs.cn/s/uALgct" rel="nofollow"><code>ChildProcess</code></a> &#x5BF9;&#x8C61;&#x4E0A;&#x76F8;&#x5E94;&#x7684; <a href="http://nodejs.cn/s/Su8gEr" rel="nofollow"><code>subprocess.stdin</code></a>&#x3001;<a href="http://nodejs.cn/s/F2vs59" rel="nofollow"><code>subprocess.stdout</code></a> &#x548C; <a href="http://nodejs.cn/s/jjhXtd" rel="nofollow"><code>subprocess.stderr</code></a> &#x6D41;&#x3002;
&#x8FD9;&#x76F8;&#x5F53;&#x4E8E;&#x5C06; <code>options.stdio</code> &#x8BBE;&#x7F6E;&#x4E3A; <code>[&apos;pipe&apos;, &apos;pipe&apos;, &apos;pipe&apos;]</code>&#x3002;</p>
<p>&#x4E3A;&#x65B9;&#x4FBF;&#x8D77;&#x89C1;&#xFF0C; <code>options.stdio</code> &#x53EF;&#x4EE5;&#x662F;&#x4EE5;&#x4E0B;&#x5B57;&#x7B26;&#x4E32;&#x4E4B;&#x4E00;&#xFF1A;</p>
<ul>
<li><code>&apos;pipe&apos;</code> - &#x76F8;&#x5F53;&#x4E8E; <code>[&apos;pipe&apos;, &apos;pipe&apos;, &apos;pipe&apos;]</code>&#xFF08;&#x9ED8;&#x8BA4;&#x503C;&#xFF09;&#x3002;</li>
<li><code>&apos;ignore&apos;</code> - &#x76F8;&#x5F53;&#x4E8E; <code>[&apos;ignore&apos;, &apos;ignore&apos;, &apos;ignore&apos;]</code>&#x3002;</li>
<li><code>&apos;inherit&apos;</code> - &#x76F8;&#x5F53;&#x4E8E; <code>[&apos;inherit&apos;, &apos;inherit&apos;, &apos;inherit&apos;]</code> &#x6216; <code>[0, 1, 2]</code>&#x3002;</li>
</ul>
<p>&#x5426;&#x5219;&#xFF0C; <code>options.stdio</code> &#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x5176;&#x4E2D;&#x6BCF;&#x4E2A;&#x7D22;&#x5F15;&#x5BF9;&#x5E94;&#x4E8E;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684; fd&#x3002;
fd 0&#x3001;1 &#x548C; 2 &#x5206;&#x522B;&#x5BF9;&#x5E94;&#x4E8E; stdin&#x3001;stdout &#x548C; stderr&#x3002;
&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5176;&#x4ED6; fd &#x4EE5;&#x4FBF;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x521B;&#x5EFA;&#x989D;&#x5916;&#x7684;&#x7BA1;&#x9053;&#x3002;
&#x503C;&#x53EF;&#x4EE5;&#x662F;&#x4EE5;&#x4E0B;&#x4E4B;&#x4E00;&#xFF1A;</p>
<ol>
<li>
<p><code>&apos;pipe&apos;</code> - &#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x548C;&#x7236;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7BA1;&#x9053;&#x3002;
&#x7BA1;&#x9053;&#x7684;&#x7236;&#x7AEF;&#x4F5C;&#x4E3A; <code>child_process</code> &#x5BF9;&#x8C61;&#x4E0A;&#x7684; <a href="http://nodejs.cn/s/jADQsb" rel="nofollow"><code>subprocess.stdio[fd]</code></a> &#x5C5E;&#x6027;&#x66B4;&#x9732;&#x7ED9;&#x7236;&#x8FDB;&#x7A0B;&#x3002;
&#x4E3A; fd 0 - 2 &#x521B;&#x5EFA;&#x7684;&#x7BA1;&#x9053;&#x4E5F;&#x53EF;&#x5206;&#x522B;&#x4F5C;&#x4E3A; <a href="http://nodejs.cn/s/Su8gEr" rel="nofollow"><code>subprocess.stdin</code></a>&#x3001;<a href="http://nodejs.cn/s/F2vs59" rel="nofollow"><code>subprocess.stdout</code></a> &#x548C; <a href="http://nodejs.cn/s/jjhXtd" rel="nofollow"><code>subprocess.stderr</code></a> &#x4F7F;&#x7528;&#x3002;</p>
</li>
<li>
<p><code>&apos;ipc&apos;</code> - &#x521B;&#x5EFA;&#x4E00;&#x4E2A; IPC &#x901A;&#x9053;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x4F20;&#x9012;&#x6D88;&#x606F;&#x6216;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;
&#x4E00;&#x4E2A; <a href="http://nodejs.cn/s/uALgct" rel="nofollow"><code>ChildProcess</code></a> &#x6700;&#x591A;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x4E2A; IPC stdio &#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;
&#x8BBE;&#x7F6E;&#x6B64;&#x9009;&#x9879;&#x4F1A;&#x542F;&#x7528; <a href="http://nodejs.cn/s/Eggixm" rel="nofollow"><code>subprocess.send()</code></a> &#x65B9;&#x6CD5;&#x3002;
&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x4E00;&#x4E2A; Node.js &#x8FDB;&#x7A0B;&#xFF0C;&#x5219; IPC &#x901A;&#x9053;&#x7684;&#x5B58;&#x5728;&#x5C06;&#x4F1A;&#x542F;&#x7528; <a href="http://nodejs.cn/s/Cd2TZw" rel="nofollow"><code>process.send()</code></a> &#x548C; <a href="http://nodejs.cn/s/omDrya" rel="nofollow"><code>process.disconnect()</code></a> &#x65B9;&#x6CD5;&#x3001;&#x4EE5;&#x53CA;&#x5B50;&#x8FDB;&#x7A0B;&#x5185;&#x7684; <a href="http://nodejs.cn/s/n6LBD8" rel="nofollow"><code>&apos;disconnect&apos;</code></a> &#x548C; <a href="http://nodejs.cn/s/vYuu5g" rel="nofollow"><code>&apos;message&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;</p>
<p>&#x4EE5; <a href="http://nodejs.cn/s/Cd2TZw" rel="nofollow"><code>process.send()</code></a> &#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x65B9;&#x5F0F;&#x8BBF;&#x95EE; IPC &#x901A;&#x9053;&#x7684; fd&#x3001;&#x6216;&#x8005;&#x5728;&#x4E00;&#x4E2A;&#x4E0D;&#x662F; Node.js &#x5B9E;&#x4F8B;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x4F7F;&#x7528; IPC &#x901A;&#x9053;&#xFF0C;&#x90FD;&#x662F;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x3002;</p>
</li>
<li>
<p><code>&apos;ignore&apos;</code> - &#x6307;&#x793A; Node.js &#x5FFD;&#x7565;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684; fd&#x3002;
&#x867D;&#x7136; Node.js &#x5C06;&#x4F1A;&#x59CB;&#x7EC8;&#x4E3A;&#x5B83;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x6253;&#x5F00; fd 0 - 2&#xFF0C;&#x4F46;&#x5C06; fd &#x8BBE;&#x7F6E;&#x4E3A; <code>&apos;ignore&apos;</code> &#x5C06;&#x4F1A;&#x5BFC;&#x81F4; Node.js &#x6253;&#x5F00; <code>/dev/null</code> &#x5E76;&#x5C06;&#x5176;&#x9644;&#x52A0;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; fd&#x3002;</p>
</li>
<li>
<p><code>&apos;inherit&apos;</code> - &#x5C06;&#x76F8;&#x5E94;&#x7684; stdio &#x6D41;&#x4F20;&#x7ED9;&#x7236;&#x8FDB;&#x7A0B;&#x6216;&#x4ECE;&#x7236;&#x8FDB;&#x7A0B;&#x4F20;&#x5165;&#x3002;
&#x5728;&#x524D;&#x4E09;&#x4E2A;&#x4F4D;&#x7F6E;&#x4E2D;&#xFF0C;&#x8FD9;&#x5206;&#x522B;&#x76F8;&#x5F53;&#x4E8E; <code>process.stdin</code>&#x3001; <code>process.stdout</code> &#x548C; <code>process.stderr</code>&#x3002;
&#x5728;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x4F4D;&#x7F6E;&#x4E2D;&#xFF0C;&#x5219;&#x76F8;&#x5F53;&#x4E8E; <code>&apos;ignore&apos;</code>&#x3002;</p>
</li>
<li>
<p><a href="http://nodejs.cn/s/t73H94" target="_blank" rel="nofollow" class="type">&lt;Stream&gt;</a> &#x5BF9;&#x8C61; - &#x4E0E;&#x5B50;&#x8FDB;&#x7A0B;&#x5171;&#x4EAB;&#x6307;&#x5411; tty&#x3001;&#x6587;&#x4EF6;&#x3001; socket &#x6216;&#x7BA1;&#x9053;&#x7684;&#x53EF;&#x8BFB;&#x6216;&#x53EF;&#x5199;&#x6D41;&#x3002;
&#x6D41;&#x7684;&#x5E95;&#x5C42;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x4F1A;&#x88AB;&#x590D;&#x5236;&#x5230;&#x4E0E; <code>stdio</code> &#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x7D22;&#x5F15;&#x5BF9;&#x5E94;&#x7684; fd&#x3002;
&#x8BE5;&#x6D41;&#x5FC5;&#x987B;&#x5177;&#x6709;&#x4E00;&#x4E2A;&#x5E95;&#x5C42;&#x7684;&#x63CF;&#x8FF0;&#x7B26;&#xFF08;&#x6587;&#x4EF6;&#x6D41;&#x76F4;&#x5230;&#x89E6;&#x53D1; <code>&apos;open&apos;</code> &#x4E8B;&#x4EF6;&#x624D;&#x9700;&#x8981;&#xFF09;&#x3002;</p>
</li>
<li>
<p>&#x6B63;&#x6574;&#x6570; - &#x6574;&#x6570;&#x503C;&#x4F1A;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;&#x5F53;&#x524D;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x4E2D;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;
&#x5B83;&#x4E0E;&#x5B50;&#x8FDB;&#x7A0B;&#x5171;&#x4EAB;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x5171;&#x4EAB; <a href="http://nodejs.cn/s/t73H94" target="_blank" rel="nofollow" class="type">&lt;Stream&gt;</a> &#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x5F0F;&#x3002;
&#x5728; Windows &#x4E0A;&#x4E0D;&#x652F;&#x6301;&#x4F20;&#x5165; socket&#x3002;</p>
</li>
<li>
<p><code>null</code> &#x6216; <code>undefined</code> - &#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#x3002;
&#x5BF9;&#x4E8E; stdio &#x7684; fd 0&#x3001;1 &#x548C; 2&#xFF08;&#x6362;&#x53E5;&#x8BDD;&#x8BF4;&#xFF0C;stdin&#x3001;stdout &#x548C; stderr&#xFF09;&#xFF0C;&#x5C06;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7BA1;&#x9053;&#x3002;
&#x5BF9;&#x4E8E; fd 3 &#x53CA;&#x66F4;&#x5927;&#x7684;&#x503C;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;ignore&apos;</code>&#x3002;</p>
</li>
</ol>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);

// &#x5B50;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x7236;&#x8FDB;&#x7A0B;&#x7684; stdio&#x3002;
spawn(&apos;prg&apos;, [], { stdio: &apos;inherit&apos; });

// &#x884D;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x53EA;&#x5171;&#x4EAB; stderr&#x3002;
spawn(&apos;prg&apos;, [], { stdio: [&apos;pipe&apos;, &apos;pipe&apos;, process.stderr] });

// &#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x7684; fd=4&#xFF0C;&#x4E0E;&#x5448;&#x73B0;&#x542F;&#x52A8;&#x5F0F;&#x754C;&#x9762;&#x7684;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x3002;
spawn(&apos;prg&apos;, [], { stdio: [&apos;pipe&apos;, null, null, null, &apos;pipe&apos;] });
</code></pre>
<p>&#x5F53;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB; IPC &#x901A;&#x9053;&#xFF0C;&#x5E76;&#x4E14;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x4E00;&#x4E2A; Node.js &#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x542F;&#x52A8;&#x65F6;&#x4E0D;&#x4F1A;&#x6307;&#x5411; IPC &#x901A;&#x9053;&#xFF08;&#x4F7F;&#x7528; <code>unref()</code>&#xFF09;&#xFF0C;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x4E3A; <a href="http://nodejs.cn/s/n6LBD8" rel="nofollow"><code>&apos;disconnect&apos;</code></a> &#x4E8B;&#x4EF6;&#x6216; <a href="http://nodejs.cn/s/vYuu5g" rel="nofollow"><code>&apos;message&apos;</code></a> &#x4E8B;&#x4EF6;&#x6CE8;&#x518C;&#x4E86;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;
&#x8FD9;&#x5141;&#x8BB8;&#x5B50;&#x8FDB;&#x7A0B;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x5F00;&#x653E;&#x7684; IPC &#x901A;&#x9053;&#x4FDD;&#x6301;&#x6253;&#x5F00;&#x8BE5;&#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x5728;&#x7C7B; Unix &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;<a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x65B9;&#x6CD5;&#x5728;&#x5C06;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x4E0E;&#x5B50;&#x8FDB;&#x7A0B;&#x89E3;&#x8026;&#x4E4B;&#x524D;&#x4F1A;&#x540C;&#x6B65;&#x5730;&#x6267;&#x884C;&#x5185;&#x5B58;&#x64CD;&#x4F5C;&#x3002;
&#x5177;&#x6709;&#x5927;&#x5185;&#x5B58;&#x5360;&#x7528;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x80FD;&#x4F1A;&#x53D1;&#x73B0;&#x9891;&#x7E41;&#x7684; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x8C03;&#x7528;&#x6210;&#x4E3A;&#x74F6;&#x9888;&#x3002;
&#x8BE6;&#x89C1; <a href="http://nodejs.cn/s/p8ZCVp" rel="nofollow">V8 &#x95EE;&#x9898; 7381</a>&#x3002;</p>
<p>&#x8FD8;&#x53EF;&#x53C2;&#x9605;&#xFF1A;<a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a> &#x548C; <a href="http://nodejs.cn/s/VDCJMa" rel="nofollow"><code>child_process.fork()</code></a>&#x3002;</p>
<h2>&#x521B;&#x5EFA;&#x540C;&#x6B65;&#x7684;&#x8FDB;&#x7A0B;<span><a class="mark" href="child_process.html#child_process_synchronous_process_creation" id="child_process_synchronous_process_creation">#</a></span></h2><p class="tip_wrap"><a href="child_process/synchronous_process_creation.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/synchronous_process_creation.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<p><a href="http://nodejs.cn/s/bmkUrE" rel="nofollow"><code>child_process.spawnSync()</code></a>&#x3001;<a href="http://nodejs.cn/s/i6KxMV" rel="nofollow"><code>child_process.execSync()</code></a> &#x548C; <a href="http://nodejs.cn/s/ed75fU" rel="nofollow"><code>child_process.execFileSync()</code></a> &#x65B9;&#x6CD5;&#x662F;&#x540C;&#x6B65;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x4F1A;&#x963B;&#x585E; Node.js &#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x3001;&#x6682;&#x505C;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x4EE3;&#x7801;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x76F4;&#x5230;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x963B;&#x585E;&#x8FD9;&#x4E9B;&#x8C03;&#x7528;&#x5BF9;&#x4E8E;&#x7B80;&#x5316;&#x901A;&#x7528;&#x7684;&#x811A;&#x672C;&#x4EFB;&#x52A1;&#x548C;&#x7B80;&#x5316;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x7684;&#x52A0;&#x8F7D;&#x6216;&#x5904;&#x7406;&#x90FD;&#x975E;&#x5E38;&#x6709;&#x7528;&#x3002;</p>
<h3>child_process.execFileSync(file[, args][, options])<span><a class="mark" href="child_process.html#child_process_child_process_execfilesync_file_args_options" id="child_process_child_process_execfilesync_file_args_options">#</a></span></h3><p class="tip_wrap"><a href="child_process/child_process_execfilesync_file_args_options.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_execfilesync_file_args_options.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v10.10.0</td>
<td><p>The <code>input</code> option can now be any <code>TypedArray</code> or a <code>DataView</code>.</p></td></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p></td></tr>
<tr><td>v8.0.0</td>
<td><p>The <code>input</code> option can now be a <code>Uint8Array</code>.</p></td></tr>
<tr><td>v6.2.1, v4.5.0</td>
<td><p>The <code>encoding</code> option can now explicitly be set to <code>buffer</code>.</p></td></tr>
<tr><td>v0.11.12</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.11.12</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>file</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x6216;&#x8DEF;&#x5F84;&#x3002;</li>
<li><code>args</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string[]&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x7684;&#x5217;&#x8868;&#x3002;</li>
<li>
<p><code>options</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>cwd</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>input</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="http://nodejs.cn/s/oh3CkV" target="_blank" rel="nofollow" class="type">&lt;TypedArray&gt;</a> | <a href="http://nodejs.cn/s/yCdVkD" target="_blank" rel="nofollow" class="type">&lt;DataView&gt;</a> &#x8BE5;&#x503C;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A; stdin &#x4F20;&#x7ED9;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x63D0;&#x4F9B;&#x6B64;&#x503C;&#x5C06;&#x4F1A;&#x8986;&#x76D6; <code>stdio[0]</code>&#x3002;</li>
<li><code>stdio</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/ZJSz23" target="_blank" rel="nofollow" class="type">&lt;Array&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x914D;&#x7F6E;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9664;&#x975E;&#x6307;&#x5B9A;&#x4E86; <code>stdio</code>&#xFF0C;&#x5426;&#x5219; <code>stderr</code> &#x5C06;&#x4F1A;&#x88AB;&#x8F93;&#x51FA;&#x5230;&#x7236;&#x8FDB;&#x7A0B;&#x7684; stderr&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;pipe&apos;</code>&#x3002;</li>
<li><code>env</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>process.env</code>&#x3002;</li>
<li><code>uid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/bUGgha" rel="nofollow"><code>setuid(2)</code></a>&#x3002;</li>
<li><code>gid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7FA4;&#x7EC4;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/64HRVx" rel="nofollow"><code>setgid(2)</code></a>&#x3002;</li>
<li><code>timeout</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x5141;&#x8BB8;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x4EE5;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>undefined</code>&#x3002;</li>
<li><code>killSignal</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;integer&gt;</a> &#x5F53;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x5C06;&#x88AB;&#x7EC8;&#x6B62;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x4FE1;&#x53F7;&#x503C;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><code>maxBuffer</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x4E0A;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/3x5Dz3" rel="nofollow">maxBuffer &#x4E0E; Unicode</a> &#x4E2D;&#x7684;&#x8B66;&#x544A;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>1024 * 1024</code>&#x3002;</li>
<li><code>encoding</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6240;&#x6709; stdio &#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;buffer&apos;</code>&#x3002;</li>
<li><code>windowsHide</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x9690;&#x85CF;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#xFF08;&#x5728; Windows &#x7CFB;&#x7EDF;&#x4E0A;&#x901A;&#x5E38;&#x4F1A;&#x521B;&#x5EFA;&#xFF09;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
<li><code>shell</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5982;&#x679C;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5728; shell &#x4E2D;&#x8FD0;&#x884C; <code>command</code>&#x3002;
&#x5728; Unix &#x4E0A;&#x4F7F;&#x7528; <code>&apos;/bin/sh&apos;</code>&#xFF0C;&#x5728; Windows &#x4E0A;&#x4F7F;&#x7528; <code>process.env.ComSpec</code>&#x3002;
&#x53EF;&#x4EE5;&#x5C06;&#x4E0D;&#x540C;&#x7684; shell &#x6307;&#x5B9A;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
&#x53C2;&#x9605; <a href="http://nodejs.cn/s/y7VTNz" rel="nofollow">shell &#x7684;&#x8981;&#x6C42;</a>&#x4E0E; <a href="http://nodejs.cn/s/5L5sS6" rel="nofollow">Windows &#x9ED8;&#x8BA4;&#x7684; shell</a>&#x3002;
<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#xFF08;&#x6CA1;&#x6709; shell&#xFF09;&#x3002;</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x547D;&#x4EE4;&#x7684; stdout&#x3002;</li>
</ul>
<p><code>child_process.execFileSync()</code> &#x65B9;&#x6CD5;&#x901A;&#x5E38;&#x4E0E; <a href="http://nodejs.cn/s/N6uK8q" rel="nofollow"><code>child_process.execFile()</code></a> &#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x8BE5;&#x65B9;&#x6CD5;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x5173;&#x95ED;&#x4E4B;&#x524D;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;&#x3002;
&#x5F53;&#x9047;&#x5230;&#x8D85;&#x65F6;&#x5E76;&#x53D1;&#x9001; <code>killSignal</code> &#x65F6;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4E5F;&#x9700;&#x7B49;&#x5230;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x9000;&#x51FA;&#x540E;&#x624D;&#x8FD4;&#x56DE;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x62E6;&#x622A;&#x5E76;&#x5904;&#x7406;&#x4E86; <code>SIGTERM</code> &#x4FE1;&#x53F7;&#x4F46;&#x672A;&#x9000;&#x51FA;&#xFF0C;&#x5219;&#x7236;&#x8FDB;&#x7A0B;&#x4ECD;&#x5C06;&#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x8D85;&#x65F6;&#x6216;&#x5177;&#x6709;&#x975E;&#x96F6;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF0C;&#x5219;&#x6B64;&#x65B9;&#x6CD5;&#x5C06;&#x629B;&#x51FA;&#x4E00;&#x4E2A; <a href="http://nodejs.cn/s/FLTm19" rel="nofollow"><code>Error</code></a>&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x5E95;&#x5C42; <a href="http://nodejs.cn/s/bmkUrE" rel="nofollow"><code>child_process.spawnSync()</code></a> &#x7684;&#x5B8C;&#x6574;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x5982;&#x679C;&#x542F;&#x7528;&#x4E86; <code>shell</code> &#x9009;&#x9879;&#xFF0C;&#x5219;&#x4E0D;&#x8981;&#x5C06;&#x672A;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x7ED9;&#x6B64;&#x51FD;&#x6570;&#x3002;
&#x5305;&#x542B; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x4EFB;&#x4F55;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x610F;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<h3>child_process.execSync(command[, options])<span><a class="mark" href="child_process.html#child_process_child_process_execsync_command_options" id="child_process_child_process_execsync_command_options">#</a></span></h3><p class="tip_wrap"><a href="child_process/child_process_execsync_command_options.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_execsync_command_options.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v10.10.0</td>
<td><p>The <code>input</code> option can now be any <code>TypedArray</code> or a <code>DataView</code>.</p></td></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p></td></tr>
<tr><td>v8.0.0</td>
<td><p>The <code>input</code> option can now be a <code>Uint8Array</code>.</p></td></tr>
<tr><td>v0.11.12</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.11.12</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>command</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002;</li>
<li>
<p><code>options</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>cwd</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>input</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="http://nodejs.cn/s/oh3CkV" target="_blank" rel="nofollow" class="type">&lt;TypedArray&gt;</a> | <a href="http://nodejs.cn/s/yCdVkD" target="_blank" rel="nofollow" class="type">&lt;DataView&gt;</a> &#x8BE5;&#x503C;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A; stdin &#x4F20;&#x7ED9;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x63D0;&#x4F9B;&#x6B64;&#x503C;&#x5C06;&#x4F1A;&#x8986;&#x76D6; <code>stdio[0]</code>&#x3002;</li>
<li><code>stdio</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/ZJSz23" target="_blank" rel="nofollow" class="type">&lt;Array&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x914D;&#x7F6E;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9664;&#x975E;&#x6307;&#x5B9A;&#x4E86; <code>stdio</code>&#xFF0C;&#x5426;&#x5219; <code>stderr</code> &#x5C06;&#x4F1A;&#x88AB;&#x8F93;&#x51FA;&#x5230;&#x7236;&#x8FDB;&#x7A0B;&#x7684; stderr&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;pipe&apos;</code>&#x3002;</li>
<li><code>env</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>process.env</code>&#x3002;</li>
<li><code>shell</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x7684; shell&#x3002;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/y7VTNz" rel="nofollow">shell &#x7684;&#x8981;&#x6C42;</a>&#x4E0E; <a href="http://nodejs.cn/s/5L5sS6" rel="nofollow">Windows &#x9ED8;&#x8BA4;&#x7684; shell</a>&#x3002;
<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> Unix &#x4E0A;&#x662F; <code>&apos;/bin/sh&apos;</code>&#xFF0C;Windows &#x4E0A;&#x662F; <code>process.env.ComSpec</code>&#x3002;</li>
<li><code>uid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/bUGgha" rel="nofollow"><code>setuid(2)</code></a>&#x3002;</li>
<li><code>gid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7FA4;&#x7EC4;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/64HRVx" rel="nofollow"><code>setgid(2)</code></a>&#x3002;</li>
<li><code>timeout</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x5141;&#x8BB8;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x4EE5;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>undefined</code>&#x3002;</li>
<li><code>killSignal</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;integer&gt;</a> &#x5F53;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x5C06;&#x88AB;&#x7EC8;&#x6B62;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x4FE1;&#x53F7;&#x503C;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><code>maxBuffer</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x4E0A;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x5E76;&#x4E14;&#x622A;&#x65AD;&#x4EFB;&#x4F55;&#x8F93;&#x51FA;&#x3002;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/3x5Dz3" rel="nofollow">maxBuffer &#x4E0E; Unicode</a> &#x4E2D;&#x7684;&#x8B66;&#x544A;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>1024 * 1024</code>&#x3002;</li>
<li><code>encoding</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6240;&#x6709; stdio &#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;buffer&apos;</code>&#x3002;</li>
<li><code>windowsHide</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x9690;&#x85CF;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#xFF08;&#x5728; Windows &#x7CFB;&#x7EDF;&#x4E0A;&#x901A;&#x5E38;&#x4F1A;&#x521B;&#x5EFA;&#xFF09;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x547D;&#x4EE4;&#x7684; stdout&#x3002;</li>
</ul>
<p><code>child_process.execSync()</code> &#x65B9;&#x6CD5;&#x901A;&#x5E38;&#x4E0E; <a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a> &#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x8BE5;&#x65B9;&#x6CD5;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x5173;&#x95ED;&#x4E4B;&#x524D;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;&#x3002;
&#x5F53;&#x9047;&#x5230;&#x8D85;&#x65F6;&#x5E76;&#x53D1;&#x9001; <code>killSignal</code> &#x65F6;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4E5F;&#x9700;&#x7B49;&#x5230;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x9000;&#x51FA;&#x540E;&#x624D;&#x8FD4;&#x56DE;&#x3002;
&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x62E6;&#x622A;&#x5E76;&#x5904;&#x7406;&#x4E86; <code>SIGTERM</code> &#x4FE1;&#x53F7;&#x4F46;&#x672A;&#x9000;&#x51FA;&#xFF0C;&#x5219;&#x7236;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x8D85;&#x65F6;&#x6216;&#x5177;&#x6709;&#x975E;&#x96F6;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF0C;&#x5219;&#x6B64;&#x65B9;&#x6CD5;&#x5C06;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002;
<a href="http://nodejs.cn/s/FLTm19" rel="nofollow"><code>Error</code></a> &#x5BF9;&#x8C61;&#x5C06;&#x4F1A;&#x5305;&#x542B; <a href="http://nodejs.cn/s/bmkUrE" rel="nofollow"><code>child_process.spawnSync()</code></a> &#x7684;&#x5B8C;&#x6574;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x5207;&#x52FF;&#x5C06;&#x672A;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x7ED9;&#x6B64;&#x51FD;&#x6570;&#x3002;
&#x5305;&#x542B; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x4EFB;&#x4F55;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x610F;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<h3>child_process.spawnSync(command[, args][, options])<span><a class="mark" href="child_process.html#child_process_child_process_spawnsync_command_args_options" id="child_process_child_process_spawnsync_command_args_options">#</a></span></h3><p class="tip_wrap"><a href="child_process/child_process_spawnsync_command_args_options.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_spawnsync_command_args_options.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v10.10.0</td>
<td><p>The <code>input</code> option can now be any <code>TypedArray</code> or a <code>DataView</code>.</p></td></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p></td></tr>
<tr><td>v8.0.0</td>
<td><p>The <code>input</code> option can now be a <code>Uint8Array</code>.</p></td></tr>
<tr><td>v6.2.1, v4.5.0</td>
<td><p>The <code>encoding</code> option can now explicitly be set to <code>buffer</code>.</p></td></tr>
<tr><td>v5.7.0</td>
<td><p>The <code>shell</code> option is supported now.</p></td></tr>
<tr><td>v0.11.12</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.11.12</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>command</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002;</li>
<li><code>args</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string[]&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x7684;&#x5217;&#x8868;&#x3002;</li>
<li>
<p><code>options</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>cwd</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>input</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="http://nodejs.cn/s/oh3CkV" target="_blank" rel="nofollow" class="type">&lt;TypedArray&gt;</a> | <a href="http://nodejs.cn/s/yCdVkD" target="_blank" rel="nofollow" class="type">&lt;DataView&gt;</a> &#x8BE5;&#x503C;&#x5C06;&#x4F1A;&#x4F5C;&#x4E3A; stdin &#x4F20;&#x7ED9;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x63D0;&#x4F9B;&#x6B64;&#x503C;&#x5C06;&#x4F1A;&#x8986;&#x76D6; <code>stdio[0]</code>&#x3002;</li>
<li><code>argv0</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x663E;&#x5F0F;&#x5730;&#x8BBE;&#x7F6E;&#x53D1;&#x9001;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>argv[0]</code> &#x7684;&#x503C;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x5219;&#x5C06;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; <code>command</code> &#x7684;&#x503C;&#x3002;</li>
<li><code>stdio</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/ZJSz23" target="_blank" rel="nofollow" class="type">&lt;Array&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x914D;&#x7F6E;&#x3002;</li>
<li><code>env</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x952E;&#x503C;&#x5BF9;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>process.env</code>&#x3002;</li>
<li><code>uid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/bUGgha" rel="nofollow"><code>setuid(2)</code></a>&#x3002;</li>
<li><code>gid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8FDB;&#x7A0B;&#x7684;&#x7FA4;&#x7EC4;&#x6807;&#x8BC6;&#xFF0C;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/64HRVx" rel="nofollow"><code>setgid(2)</code></a>&#x3002;</li>
<li><code>timeout</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x5141;&#x8BB8;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x957F;&#x65F6;&#x95F4;&#xFF0C;&#x4EE5;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>undefined</code>&#x3002;</li>
<li><code>killSignal</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> | <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;integer&gt;</a> &#x5F53;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x5C06;&#x88AB;&#x7EC8;&#x6B62;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x4FE1;&#x53F7;&#x503C;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><code>maxBuffer</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x4E0A;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x5E76;&#x4E14;&#x622A;&#x65AD;&#x4EFB;&#x4F55;&#x8F93;&#x51FA;&#x3002;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/3x5Dz3" rel="nofollow">maxBuffer &#x4E0E; Unicode</a> &#x4E2D;&#x7684;&#x8B66;&#x544A;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>1024 * 1024</code>&#x3002;</li>
<li><code>encoding</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6240;&#x6709; stdio &#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>&apos;buffer&apos;</code>&#x3002;</li>
<li><code>shell</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5982;&#x679C;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5728; shell &#x4E2D;&#x8FD0;&#x884C; <code>command</code>&#x3002;
&#x5728; Unix &#x4E0A;&#x4F7F;&#x7528; <code>&apos;/bin/sh&apos;</code>&#xFF0C;&#x5728; Windows &#x4E0A;&#x4F7F;&#x7528; <code>process.env.ComSpec</code>&#x3002;
&#x53EF;&#x4EE5;&#x5C06;&#x4E0D;&#x540C;&#x7684; shell &#x6307;&#x5B9A;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
&#x53C2;&#x9605; <a href="http://nodejs.cn/s/y7VTNz" rel="nofollow">shell &#x7684;&#x8981;&#x6C42;</a>&#x4E0E; <a href="http://nodejs.cn/s/5L5sS6" rel="nofollow">Windows &#x9ED8;&#x8BA4;&#x7684; shell</a>&#x3002;
<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#xFF08;&#x6CA1;&#x6709; shell&#xFF09;&#x3002;</li>
<li><code>windowsVerbatimArguments</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x5728; Windows &#x4E0A;&#x4E0D;&#x4E3A;&#x53C2;&#x6570;&#x52A0;&#x4E0A;&#x5F15;&#x53F7;&#x6216;&#x8F6C;&#x4E49;&#x3002;&#x5728; Unix &#x4E0A;&#x5FFD;&#x7565;&#x3002;&#x5982;&#x679C;&#x6307;&#x5B9A;&#x4E86; <code>shell</code> &#x5E76;&#x4E14;&#x662F; CMD&#xFF0C;&#x5219;&#x81EA;&#x52A8;&#x8BBE;&#x4E3A; <code>true</code>&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
<li><code>windowsHide</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x9690;&#x85CF;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#xFF08;&#x5728; Windows &#x7CFB;&#x7EDF;&#x4E0A;&#x901A;&#x5E38;&#x4F1A;&#x521B;&#x5EFA;&#xFF09;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
</ul>
</li>
<li>
<p>&#x8FD4;&#x56DE;: <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a></p>
<ul>
<li><code>pid</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; pid&#x3002;</li>
<li><code>output</code> <a href="http://nodejs.cn/s/ZJSz23" target="_blank" rel="nofollow" class="type">&lt;Array&gt;</a> stdio &#x8F93;&#x51FA;&#x7684;&#x7ED3;&#x679C;&#x6570;&#x7EC4;&#x3002;</li>
<li><code>stdout</code> <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> <code>output[1]</code> &#x7684;&#x5185;&#x5BB9;&#x3002;</li>
<li><code>stderr</code> <a href="http://nodejs.cn/s/6x1hD3" target="_blank" rel="nofollow" class="type">&lt;Buffer&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> <code>output[2]</code> &#x7684;&#x5185;&#x5BB9;&#x3002;</li>
<li><code>status</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF0C;&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x56E0;&#x4FE1;&#x53F7;&#x800C;&#x7EC8;&#x6B62;&#xFF0C;&#x5219;&#x4E3A; <code>null</code>&#x3002;</li>
<li><code>signal</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6740;&#x6B7B;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x4FE1;&#x53F7;&#xFF0C;&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0D;&#x662F;&#x56E0;&#x4FE1;&#x53F7;&#x800C;&#x7EC8;&#x6B62;&#xFF0C;&#x5219;&#x4E3A; <code>null</code>&#x3002;</li>
<li><code>error</code> <a href="http://nodejs.cn/s/qZ873x" target="_blank" rel="nofollow" class="type">&lt;Error&gt;</a> &#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x5931;&#x8D25;&#x6216;&#x8D85;&#x65F6;&#x7684;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x3002;</li>
</ul>
</li>
</ul>
<p><code>child_process.spawnSync()</code> &#x65B9;&#x6CD5;&#x901A;&#x5E38;&#x4E0E; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x5173;&#x95ED;&#x4E4B;&#x524D;&#x8BE5;&#x51FD;&#x6570;&#x4E0D;&#x4F1A;&#x8FD4;&#x56DE;&#x3002;
&#x5F53;&#x9047;&#x5230;&#x8D85;&#x65F6;&#x5E76;&#x53D1;&#x9001; <code>killSignal</code> &#x65F6;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4E5F;&#x9700;&#x7B49;&#x5230;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x9000;&#x51FA;&#x540E;&#x624D;&#x8FD4;&#x56DE;&#x3002;
&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x62E6;&#x622A;&#x5E76;&#x5904;&#x7406;&#x4E86; <code>SIGTERM</code> &#x4FE1;&#x53F7;&#x4F46;&#x672A;&#x9000;&#x51FA;&#xFF0C;&#x5219;&#x7236;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x5982;&#x679C;&#x542F;&#x7528;&#x4E86; <code>shell</code> &#x9009;&#x9879;&#xFF0C;&#x5219;&#x4E0D;&#x8981;&#x5C06;&#x672A;&#x7ECF;&#x8FC7;&#x5904;&#x7406;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x7ED9;&#x6B64;&#x51FD;&#x6570;&#x3002;
&#x5305;&#x542B; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x4EFB;&#x4F55;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x610F;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<h2>ChildProcess &#x7C7B;<span><a class="mark" href="child_process.html#child_process_class_childprocess" id="child_process_class_childprocess">#</a></span></h2><p class="tip_wrap"><a href="child_process/class_childprocess.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/class_childprocess.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v2.2.0</span>
</div>
<ul>
<li>&#x7EE7;&#x627F;&#x81EA;: <a href="http://nodejs.cn/s/pGAddE" target="_blank" rel="nofollow" class="type">&lt;EventEmitter&gt;</a></li>
</ul>
<p><code>ChildProcess</code> &#x7684;&#x5B9E;&#x4F8B;&#x4EE3;&#x8868;&#x884D;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;</p>
<p><code>ChildProcess</code> &#x7684;&#x5B9E;&#x4F8B;&#x4E0D;&#x662F;&#x76F4;&#x63A5;&#x521B;&#x5EFA;&#x7684;&#x3002;
&#x800C;&#x662F;&#xFF0C;&#x4F7F;&#x7528; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a>&#x3001;<a href="http://nodejs.cn/s/pkpJMy" rel="nofollow"><code>child_process.exec()</code></a>&#x3001;<a href="http://nodejs.cn/s/N6uK8q" rel="nofollow"><code>child_process.execFile()</code></a> &#x6216; <a href="http://nodejs.cn/s/VDCJMa" rel="nofollow"><code>child_process.fork()</code></a> &#x65B9;&#x6CD5;&#x6765;&#x521B;&#x5EFA; <code>ChildProcess</code> &#x7684;&#x5B9E;&#x4F8B;&#x3002;</p>
<h3>&apos;close&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="child_process.html#child_process_event_close" id="child_process_event_close">#</a></span></h3><p class="tip_wrap"><a href="child_process/event_close.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_close.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.7</span>
</div>
<ul>
<li><code>code</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x81EA;&#x884C;&#x9000;&#x51FA;&#x65F6;&#x7684;&#x9000;&#x51FA;&#x7801;&#x3002;</li>
<li><code>signal</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x7EC8;&#x6B62;&#x7684;&#x4FE1;&#x53F7;&#x3002;</li>
</ul>
<p>&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x6D41;&#x5DF2;&#x88AB;&#x5173;&#x95ED;&#x65F6;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;close&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x8FD9;&#x4E0E; <a href="http://nodejs.cn/s/ak4bFL" rel="nofollow"><code>&apos;exit&apos;</code></a> &#x4E8B;&#x4EF6;&#x4E0D;&#x540C;&#xFF0C;&#x56E0;&#x4E3A;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EF;&#x80FD;&#x5171;&#x4EAB;&#x76F8;&#x540C;&#x7684; stdio &#x6D41;&#x3002;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);
const ls = spawn(&apos;ls&apos;, [&apos;-lh&apos;, &apos;/usr&apos;]);

ls.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(`stdout: ${data}`);
});

ls.on(&apos;close&apos;, (code) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x4EE3;&#x7801; ${code} &#x5173;&#x95ED;&#x6240;&#x6709; stdio`);
});

ls.on(&apos;exit&apos;, (code) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x4EE3;&#x7801; ${code} &#x9000;&#x51FA;`);
});
</code></pre>
<h3>&apos;disconnect&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="child_process.html#child_process_event_disconnect" id="child_process_event_disconnect">#</a></span></h3><p class="tip_wrap"><a href="child_process/event_disconnect.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_disconnect.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.2</span>
</div>
<p>&#x8C03;&#x7528;&#x7236;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684; <a href="http://nodejs.cn/s/ke6TNp" rel="nofollow"><code>subprocess.disconnect()</code></a> &#x6216;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684; <a href="http://nodejs.cn/s/omDrya" rel="nofollow"><code>process.disconnect()</code></a> &#x540E;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;disconnect&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x540E;&#x5C31;&#x4E0D;&#x80FD;&#x518D;&#x53D1;&#x9001;&#x6216;&#x63A5;&#x6536;&#x4FE1;&#x606F;&#xFF0C;&#x4E14; <a href="http://nodejs.cn/s/o8Mo5J" rel="nofollow"><code>subprocess.connected</code></a> &#x5C5E;&#x6027;&#x4E3A; <code>false</code>&#x3002;</p>
<h3>&apos;error&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="child_process.html#child_process_event_error" id="child_process_event_error">#</a></span></h3><p class="tip_wrap"><a href="child_process/event_error.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_error.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<ul>
<li><code>err</code> <a href="http://nodejs.cn/s/qZ873x" target="_blank" rel="nofollow" class="type">&lt;Error&gt;</a> &#x9519;&#x8BEF;&#x3002;</li>
</ul>
<p>&#x6BCF;&#x5F53;&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x65F6;&#x89E6;&#x53D1; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#xFF1A;</p>
<ol>
<li>&#x65E0;&#x6CD5;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#xFF1B;</li>
<li>&#x65E0;&#x6CD5;&#x6740;&#x6B7B;&#x8FDB;&#x7A0B;&#xFF1B;</li>
<li>&#x5411;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x5931;&#x8D25;&#x3002;</li>
</ol>
<p>&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x540E;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x4E5F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;exit&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x5F53;&#x540C;&#x65F6;&#x76D1;&#x542C; <code>&apos;exit&apos;</code> &#x548C; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#x65F6;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x9632;&#x6B62;&#x610F;&#x5916;&#x5730;&#x591A;&#x6B21;&#x8C03;&#x7528;&#x5904;&#x7406;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x4E5F;&#x53EF;&#x53C2;&#x9605; <a href="http://nodejs.cn/s/gGy82v" rel="nofollow"><code>subprocess.kill()</code></a> &#x548C; <a href="http://nodejs.cn/s/Eggixm" rel="nofollow"><code>subprocess.send()</code></a>&#x3002;</p>
<h3>&apos;exit&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="child_process.html#child_process_event_exit" id="child_process_event_exit">#</a></span></h3><p class="tip_wrap"><a href="child_process/event_exit.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_exit.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><code>code</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x81EA;&#x884C;&#x9000;&#x51FA;&#x65F6;&#x7684;&#x9000;&#x51FA;&#x7801;&#x3002;</li>
<li><code>signal</code> <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x7EC8;&#x6B62;&#x7684;&#x4FE1;&#x53F7;&#x3002;</li>
</ul>
<p>&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x7ED3;&#x675F;&#x540E;&#x65F6;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;exit&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#xFF0C;&#x5219; <code>code</code> &#x662F;&#x8FDB;&#x7A0B;&#x7684;&#x6700;&#x7EC8;&#x9000;&#x51FA;&#x7801;&#xFF0C;&#x5426;&#x5219;&#x4E3A; <code>null</code>&#x3002;
&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x662F;&#x56E0;&#x4E3A;&#x6536;&#x5230;&#x7684;&#x4FE1;&#x53F7;&#x800C;&#x7EC8;&#x6B62;&#xFF0C;&#x5219; <code>signal</code> &#x662F;&#x4FE1;&#x53F7;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#xFF0C;&#x5426;&#x5219;&#x4E3A; <code>null</code>&#x3002;
&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#x662F;&#x975E;&#x7A7A;&#x7684;&#x3002;</p>
<p>&#x5F53; <code>&apos;exit&apos;</code> &#x4E8B;&#x4EF6;&#x88AB;&#x89E6;&#x53D1;&#x65F6;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x6D41;&#x53EF;&#x80FD;&#x4F9D;&#x7136;&#x662F;&#x6253;&#x5F00;&#x7684;&#x3002;</p>
<p>Node.js &#x4E3A; <code>SIGINT</code> &#x548C; <code>SIGTERM</code> &#x5EFA;&#x7ACB;&#x4E86;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x4E14; Node.js &#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x8FD9;&#x4E9B;&#x4FE1;&#x53F7;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x7EC8;&#x6B62;&#x3002;
&#x76F8;&#x53CD;&#xFF0C;Node.js &#x5C06;&#x4F1A;&#x6267;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6E05;&#x7406;&#x64CD;&#x4F5C;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x91CD;&#x65B0;&#x63D0;&#x5347;&#x5904;&#x7406;&#x540E;&#x7684;&#x4FE1;&#x53F7;&#x3002;</p>
<p>&#x53C2;&#x9605; <a href="http://nodejs.cn/s/amThCi" rel="nofollow"><code>waitpid(2)</code></a>&#x3002;</p>
<h3>&apos;message&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="child_process.html#child_process_event_message" id="child_process_event_message">#</a></span></h3><p class="tip_wrap"><a href="child_process/event_message.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_message.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span>
</div>
<ul>
<li><code>message</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> &#x4E00;&#x4E2A;&#x5DF2;&#x89E3;&#x6790;&#x7684; JSON &#x5BF9;&#x8C61;&#x6216;&#x539F;&#x59CB;&#x503C;&#x3002;</li>
<li><code>sendHandle</code> <a href="http://nodejs.cn/s/mHsAku" target="_blank" rel="nofollow" class="type">&lt;Handle&gt;</a> &#x4E00;&#x4E2A; <a href="http://nodejs.cn/s/wsJ1o1" rel="nofollow"><code>net.Socket</code></a> &#x6216; <a href="http://nodejs.cn/s/gBYjux" rel="nofollow"><code>net.Server</code></a> &#x5BF9;&#x8C61;&#xFF0C;&#x6216; <code>undefined</code>&#x3002;</li>
</ul>
<p>&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528; <a href="http://nodejs.cn/s/Cd2TZw" rel="nofollow"><code>process.send()</code></a> &#x53D1;&#x9001;&#x6D88;&#x606F;&#x65F6;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;message&apos;</code> &#x4E8B;&#x4EF6;&#x3002;</p>
<p>&#x6D88;&#x606F;&#x901A;&#x8FC7;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x89E3;&#x6790;&#x8FDB;&#x884C;&#x4F20;&#x9012;&#x3002;
&#x6536;&#x5230;&#x7684;&#x6D88;&#x606F;&#x53EF;&#x80FD;&#x8DDF;&#x6700;&#x521D;&#x53D1;&#x9001;&#x7684;&#x4E0D;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x3002;</p>
<h3>subprocess.channel<span><a class="mark" href="child_process.html#child_process_subprocess_channel" id="child_process_subprocess_channel">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_channel.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_channel.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v7.1.0</span>
</div>
<ul>
<li><a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> &#x4E00;&#x4E2A;&#x7BA1;&#x9053;&#xFF0C;&#x8868;&#x793A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; IPC &#x901A;&#x9053;&#x3002;</li>
</ul>
<p><code>subprocess.channel</code> &#x5C5E;&#x6027;&#x662F;&#x5BF9;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; IPC &#x901A;&#x9053;&#x7684;&#x5F15;&#x7528;&#x3002;
&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709; IPC &#x901A;&#x9053;&#xFF0C;&#x5219;&#x6B64;&#x5C5E;&#x6027;&#x4E3A; <code>undefined</code>&#x3002;</p>
<h3>subprocess.connected<span><a class="mark" href="child_process.html#child_process_subprocess_connected" id="child_process_subprocess_connected">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_connected.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_connected.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.2</span>
</div>
<ul>
<li><a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x8C03;&#x7528; <code>subprocess.disconnect()</code> &#x540E;&#x4F1A;&#x88AB;&#x8BBE;&#x4E3A; <code>false</code>&#x3002;</li>
</ul>
<p><code>subprocess.connected</code> &#x5C5E;&#x6027;&#x8868;&#x660E;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x4ECE;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x548C;&#x63A5;&#x6536;&#x6D88;&#x606F;&#x3002;
&#x5F53; <code>subprocess.connected</code> &#x4E3A; <code>false</code> &#x65F6;&#xFF0C;&#x5219;&#x4E0D;&#x80FD;&#x518D;&#x53D1;&#x9001;&#x6216;&#x63A5;&#x6536;&#x6D88;&#x606F;&#x3002;</p>
<h3>subprocess.disconnect()<span><a class="mark" href="child_process.html#child_process_subprocess_disconnect" id="child_process_subprocess_disconnect">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_disconnect.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_disconnect.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.2</span>
</div>
<p>&#x5173;&#x95ED;&#x7236;&#x8FDB;&#x7A0B;&#x4E0E;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x7684; IPC &#x901A;&#x9053;&#xFF0C;&#x4E00;&#x65E6;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x8FDE;&#x63A5;&#x4F7F;&#x5176;&#x4FDD;&#x6301;&#x6D3B;&#x8DC3;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x5B50;&#x8FDB;&#x7A0B;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x3002;
&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x540E;&#xFF0C;&#x5219;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0A;&#x5404;&#x81EA;&#x7684; <code>subprocess.connected</code> &#x548C; <code>process.connected</code> &#x5C5E;&#x6027;&#x90FD;&#x4F1A;&#x88AB;&#x8BBE;&#x4E3A; <code>false</code>&#xFF0C;&#x4E14;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x4E0D;&#x80FD;&#x518D;&#x4F20;&#x9012;&#x6D88;&#x606F;&#x3002;</p>
<p>&#x5F53;&#x8FDB;&#x7A0B;&#x4E2D;&#x6CA1;&#x6709;&#x6B63;&#x88AB;&#x63A5;&#x6536;&#x7684;&#x6D88;&#x606F;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;disconnect&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x8FD9;&#x7ECF;&#x5E38;&#x5728;&#x8C03;&#x7528; <code>subprocess.disconnect()</code> &#x540E;&#x88AB;&#x7ACB;&#x5373;&#x89E6;&#x53D1;&#x3002;</p>
<p>&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x4E00;&#x4E2A; Node.js &#x5B9E;&#x4F8B;&#x65F6;&#xFF08;&#x4F8B;&#x5982;&#x4F7F;&#x7528; <a href="http://nodejs.cn/s/VDCJMa" rel="nofollow"><code>child_process.fork()</code></a> &#x884D;&#x751F;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x8C03;&#x7528; <code>process.disconnect()</code> &#x65B9;&#x6CD5;&#x6765;&#x5173;&#x95ED; IPC &#x901A;&#x9053;&#x3002;</p>
<h3>subprocess.kill([signal])<span><a class="mark" href="child_process.html#child_process_subprocess_kill_signal" id="child_process_subprocess_kill_signal">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_kill_signal.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_kill_signal.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><code>signal</code> <a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;number&gt;</a> | <a href="http://nodejs.cn/s/9Tw2bK" target="_blank" rel="nofollow" class="type">&lt;string&gt;</a></li>
</ul>
<p><code>subprocess.kill()</code> &#x65B9;&#x6CD5;&#x4F1A;&#x5411;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x3002;
&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7ED9;&#x5B9A;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x53D1;&#x9001; <code>&apos;SIGTERM&apos;</code> &#x4FE1;&#x53F7;&#x3002;
&#x53C2;&#x9605; <a href="http://nodejs.cn/s/Fj3tfw" rel="nofollow"><code>signal(7)</code></a> &#x4E86;&#x89E3;&#x53EF;&#x7528;&#x7684;&#x4FE1;&#x53F7;&#x5217;&#x8868;&#x3002;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);
const grep = spawn(&apos;grep&apos;, [&apos;ssh&apos;]);

grep.on(&apos;close&apos;, (code, signal) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x56E0;&#x6536;&#x5230;&#x4FE1;&#x53F7; ${signal} &#x800C;&#x7EC8;&#x6B62;`);
});

// &#x53D1;&#x9001; SIGHUP &#x5230;&#x8FDB;&#x7A0B;&#x3002;
grep.kill(&apos;SIGHUP&apos;);
</code></pre>
<p>&#x5982;&#x679C;&#x4FE1;&#x53F7;&#x6CA1;&#x6709;&#x88AB;&#x9001;&#x8FBE;&#xFF0C;&#x5219; <a href="http://nodejs.cn/s/uALgct" rel="nofollow"><code>ChildProcess</code></a> &#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x4F1A;&#x89E6;&#x53D1; <a href="http://nodejs.cn/s/zPWBLU" rel="nofollow"><code>&apos;error&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;
&#x5411;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x9000;&#x51FA;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x53EF;&#x80FD;&#x6709;&#x65E0;&#x6CD5;&#x9884;&#x6599;&#x7684;&#x540E;&#x679C;&#x3002;
&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x8BC6;&#x7B26; PID &#x5DF2;&#x7ECF;&#x88AB;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x7ED9;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#xFF0C;&#x5219;&#x4FE1;&#x53F7;&#x5C06;&#x4F1A;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x8BE5;&#x8FDB;&#x7A0B;&#xFF0C;&#x800C;&#x8FD9;&#x53EF;&#x80FD;&#x4EA7;&#x751F;&#x610F;&#x5916;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x867D;&#x7136;&#x8BE5;&#x51FD;&#x6570;&#x88AB;&#x79F0;&#x4E3A; <code>kill</code>&#xFF0C;&#x4F46;&#x4F20;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x4FE1;&#x53F7;&#x53EF;&#x80FD;&#x5B9E;&#x9645;&#x4E0A;&#x4E0D;&#x4F1A;&#x7EC8;&#x6B62;&#x8BE5;&#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x53C2;&#x9605; <a href="http://nodejs.cn/s/KDV7jD" rel="nofollow"><code>kill(2)</code></a>&#x3002;</p>
<p>&#x5728; Linux &#x4E0A;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x5728;&#x8BD5;&#x56FE;&#x6740;&#x6B7B;&#x5176;&#x7236;&#x8FDB;&#x7A0B;&#x65F6;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
&#x5F53;&#x5728; shell &#x4E2D;&#x8FD0;&#x884C;&#x65B0;&#x8FDB;&#x7A0B;&#x3001;&#x6216;&#x4F7F;&#x7528; <code>ChildProcess</code> &#x7684; <code>shell</code> &#x9009;&#x9879;&#x65F6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;</p>
<pre><code class="language-js">&apos;use strict&apos;;
const { spawn } = require(&apos;child_process&apos;);

const subprocess = spawn(
  &apos;sh&apos;,
  [
    &apos;-c&apos;,
    `node -e &quot;setInterval(() =&gt; {
      console.log(process.pid, &apos;is alive&apos;)
    }, 500);&quot;`
  ], {
    stdio: [&apos;inherit&apos;, &apos;inherit&apos;, &apos;inherit&apos;]
  }
);

setTimeout(() =&gt; {
  subprocess.kill(); // &#x4E0D;&#x4F1A;&#x7EC8;&#x6B62; shell &#x4E2D;&#x7684; Node.js &#x8FDB;&#x7A0B;&#x3002;
}, 2000);
</code></pre>
<h3>subprocess.killed<span><a class="mark" href="child_process.html#child_process_subprocess_killed" id="child_process_subprocess_killed">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_killed.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_killed.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.10</span>
</div>
<ul>
<li><a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x5F53;&#x4F7F;&#x7528; <code>subprocess.kill()</code> &#x6210;&#x529F;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x540E;&#xFF0C;&#x8BE5;&#x503C;&#x4F1A;&#x88AB;&#x8BBE;&#x4E3A; <code>true</code>&#x3002;</li>
</ul>
<p><code>subprocess.killed</code> &#x5C5E;&#x6027;&#x8868;&#x660E;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x5DF2;&#x6210;&#x529F;&#x63A5;&#x6536;&#x5230;&#x6765;&#x7740; <code>subprocess.kill()</code> &#x7684;&#x4FE1;&#x53F7;&#x3002;
<code>killed</code> &#x5C5E;&#x6027;&#x5E76;&#x4E0D;&#x8868;&#x660E;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x5DF2;&#x88AB;&#x7EC8;&#x6B62;&#x3002;</p>
<h3>subprocess.pid<span><a class="mark" href="child_process.html#child_process_subprocess_pid" id="child_process_subprocess_pid">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_pid.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_pid.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><a href="http://nodejs.cn/s/SXbo1v" target="_blank" rel="nofollow" class="type">&lt;integer&gt;</a></li>
</ul>
<p>&#x8FD4;&#x56DE;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x6807;&#x8BC6;&#x7B26;&#xFF08;PID&#xFF09;&#x3002;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);
const grep = spawn(&apos;grep&apos;, [&apos;ssh&apos;]);

console.log(`&#x884D;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; pid&#xFF1A;${grep.pid}`);
grep.stdin.end();
</code></pre>
<h3>subprocess.ref()<span><a class="mark" href="child_process.html#child_process_subprocess_ref" id="child_process_subprocess_ref">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_ref.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_ref.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.10</span>
</div>
<p>&#x8C03;&#x7528; <code>subprocess.unref()</code> &#x4E4B;&#x540E;&#x518D;&#x8C03;&#x7528; <code>subprocess.ref()</code> &#x5C06;&#x4F1A;&#x4E3A;&#x5B50;&#x8FDB;&#x7A0B;&#x6062;&#x590D;&#x5DF2;&#x5220;&#x9664;&#x7684;&#x5F15;&#x7528;&#x8BA1;&#x6570;&#xFF0C;&#x5F3A;&#x8FEB;&#x7236;&#x8FDB;&#x7A0B;&#x5728;&#x9000;&#x51FA;&#x81EA;&#x8EAB;&#x4E4B;&#x524D;&#x7B49;&#x5F85;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);

const subprocess = spawn(process.argv[0], [&apos;child_program.js&apos;], {
  detached: true,
  stdio: &apos;ignore&apos;
});

subprocess.unref();
subprocess.ref();
</code></pre>
<h3>subprocess.send(message[, sendHandle[, options]][, callback])<span><a class="mark" href="child_process.html#child_process_subprocess_send_message_sendhandle_options_callback" id="child_process_subprocess_send_message_sendhandle_options_callback">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_send_message_sendhandle_options_callback.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_send_message_sendhandle_options_callback.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tbody><tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v5.8.0</td>
<td><p>The <code>options</code> parameter, and the <code>keepOpen</code> option in particular, is supported now.</p></td></tr>
<tr><td>v5.0.0</td>
<td><p>This method returns a boolean for flow control now.</p></td></tr>
<tr><td>v4.0.0</td>
<td><p>The <code>callback</code> parameter is supported now.</p></td></tr>
<tr><td>v0.5.9</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span></p></td></tr>
</tbody></table>
</details>
</div>
<ul>
<li><code>message</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a></li>
<li><code>sendHandle</code> <a href="http://nodejs.cn/s/mHsAku" target="_blank" rel="nofollow" class="type">&lt;Handle&gt;</a></li>
<li>
<p><code>options</code> <a href="http://nodejs.cn/s/jzn6Ao" target="_blank" rel="nofollow" class="type">&lt;Object&gt;</a> <code>options</code> &#x53C2;&#x6570;&#xFF08;&#x5982;&#x679C;&#x5B58;&#x5728;&#xFF09;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x4E8E;&#x53C2;&#x6570;&#x5316;&#x67D0;&#x4E9B;&#x7C7B;&#x578B;&#x53E5;&#x67C4;&#x7684;&#x53D1;&#x9001;&#x3002;<code>options</code> &#x652F;&#x6301;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;&#xFF1A;</p>
<ul>
<li><code>keepOpen</code> <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a> &#x4F20;&#x7ED9; <code>net.Socket</code> &#x5B9E;&#x4F8B;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x503C;&#x3002;&#x5F53;&#x8BBE;&#x4E3A; <code>true</code> &#x65F6;&#xFF0C;&#x5219; socket &#x5728;&#x53D1;&#x9001;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x4FDD;&#x6301;&#x6253;&#x5F00;&#x72B6;&#x6001;&#x3002;<strong>&#x9ED8;&#x8BA4;&#x503C;:</strong> <code>false</code>&#x3002;</li>
</ul>
</li>
<li><code>callback</code> <a href="http://nodejs.cn/s/ceTQa6" target="_blank" rel="nofollow" class="type">&lt;Function&gt;</a></li>
<li>&#x8FD4;&#x56DE;: <a href="http://nodejs.cn/s/jFbvuT" target="_blank" rel="nofollow" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>&#x5F53;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5DF2;&#x5EFA;&#x7ACB;&#x4E86;&#x4E00;&#x4E2A; IPC &#x901A;&#x9053;&#x65F6;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x4F7F;&#x7528; <a href="http://nodejs.cn/s/VDCJMa" rel="nofollow"><code>child_process.fork()</code></a>&#xFF09;&#xFF0C; <code>subprocess.send()</code> &#x65B9;&#x6CD5;&#x53EF;&#x7528;&#x4E8E;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;
&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x4E00;&#x4E2A; Node.js &#x5B9E;&#x4F8B;&#x65F6;&#xFF0C;&#x5219;&#x6D88;&#x606F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <a href="http://nodejs.cn/s/vYuu5g" rel="nofollow"><code>&apos;message&apos;</code></a> &#x4E8B;&#x4EF6;&#x63A5;&#x6536;&#x3002;</p>
<p>&#x6D88;&#x606F;&#x901A;&#x8FC7;&#x5E8F;&#x5217;&#x5316;&#x548C;&#x89E3;&#x6790;&#x8FDB;&#x884C;&#x4F20;&#x9012;&#xFF0C;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x53EF;&#x80FD;&#x8DDF;&#x6700;&#x521D;&#x53D1;&#x9001;&#x7684;&#x4E0D;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x811A;&#x672C;&#x4E2D;&#xFF1A;</p>
<pre><code class="language-js">const cp = require(&apos;child_process&apos;);
const n = cp.fork(`${__dirname}/sub.js`);

n.on(&apos;message&apos;, (m) =&gt; {
  console.log(&apos;&#x7236;&#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x6D88;&#x606F;&apos;, m);
});

// &#x4F7F;&#x5B50;&#x8FDB;&#x7A0B;&#x6253;&#x5370;: &#x5B50;&#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x6D88;&#x606F; { hello: &apos;world&apos; }
n.send({ hello: &apos;world&apos; });
</code></pre>
<p>&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x811A;&#x672C; <code>&apos;sub.js&apos;</code> &#x53EF;&#x80FD;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="language-js">process.on(&apos;message&apos;, (m) =&gt; {
  console.log(&apos;&#x5B50;&#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x6D88;&#x606F;&apos;, m);
});

// &#x4F7F;&#x7236;&#x8FDB;&#x7A0B;&#x8F93;&#x51FA;: &#x7236;&#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x6D88;&#x606F; { foo: &apos;bar&apos;, baz: null }
process.send({ foo: &apos;bar&apos;, baz: NaN });
</code></pre>
<p>&#x5B50; Node.js &#x8FDB;&#x7A0B;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684; <a href="http://nodejs.cn/s/Cd2TZw" rel="nofollow"><code>process.send()</code></a> &#x65B9;&#x6CD5;&#xFF0C;&#x5141;&#x8BB8;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x56DE;&#x7236;&#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x5F53;&#x53D1;&#x9001; <code>{cmd: &apos;NODE_foo&apos;}</code> &#x6D88;&#x606F;&#x65F6;&#x6709;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x3002;
<code>cmd</code> &#x5C5E;&#x6027;&#x4E2D;&#x5305;&#x542B; <code>NODE_</code> &#x524D;&#x7F00;&#x7684;&#x6D88;&#x606F;&#x662F;&#x9884;&#x7559;&#x7ED9; Node.js &#x5185;&#x6838;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x5C06;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <a href="http://nodejs.cn/s/vYuu5g" rel="nofollow"><code>&apos;message&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;
&#x76F8;&#x53CD;&#xFF0C;&#x8FD9;&#x79CD;&#x6D88;&#x606F;&#x53EF;&#x4F7F;&#x7528; <code>&apos;internalMessage&apos;</code> &#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#xFF0C;&#x4E14;&#x4F1A;&#x88AB; Node.js &#x5185;&#x90E8;&#x6D88;&#x8D39;&#x3002;
&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5E94;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x6B64;&#x7C7B;&#x6D88;&#x606F;&#x6216;&#x76D1;&#x542C; <code>&apos;internalMessage&apos;</code> &#x4E8B;&#x4EF6;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x66F4;&#x6539;&#x4E14;&#x4E0D;&#x4F1A;&#x901A;&#x77E5;&#x3002;</p>
<p>&#x53EF;&#x80FD;&#x4F20;&#x7ED9; <code>subprocess.send()</code> &#x7684;&#x53EF;&#x9009;&#x7684; <code>sendHandle</code> &#x53C2;&#x6570;&#x7528;&#x4E8E;&#x5C06; TCP &#x670D;&#x52A1;&#x5668;&#x6216; socket &#x5BF9;&#x8C61;&#x4F20;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;
&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x63A5;&#x6536;&#x8BE5;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x4F20;&#x7ED9;&#x5728; <a href="http://nodejs.cn/s/vYuu5g" rel="nofollow"><code>&apos;message&apos;</code></a> &#x4E8B;&#x4EF6;&#x4E0A;&#x6CE8;&#x518C;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x3002;
&#x5728; socket &#x4E2D;&#x63A5;&#x6536;&#x548C;&#x7F13;&#x51B2;&#x7684;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x90FD;&#x4E0D;&#x4F1A;&#x88AB;&#x53D1;&#x9001;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x53EF;&#x9009;&#x7684; <code>callback</code> &#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x5728;&#x6D88;&#x606F;&#x88AB;&#x53D1;&#x9001;&#x4E4B;&#x540E;&#x3001;&#x5B50;&#x8FDB;&#x7A0B;&#x5DF2;&#x6536;&#x5230;&#x6D88;&#x606F;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x3002;
&#x8BE5;&#x51FD;&#x6570;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x5F53;&#x6210;&#x529F;&#x65F6;&#x662F; <code>null</code>&#xFF0C;&#x5F53;&#x5931;&#x8D25;&#x65F6;&#x662F;&#x4E00;&#x4E2A; <a href="http://nodejs.cn/s/FLTm19" rel="nofollow"><code>Error</code></a> &#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x63D0;&#x4F9B; <code>callback</code> &#x51FD;&#x6570;&#xFF0C;&#x4E14;&#x6D88;&#x606F;&#x65E0;&#x6CD5;&#x88AB;&#x53D1;&#x9001;&#xFF0C;&#x5219; <a href="http://nodejs.cn/s/uALgct" rel="nofollow"><code>ChildProcess</code></a> &#x5BF9;&#x8C61;&#x5C06;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x8FD9;&#x662F;&#x6709;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x5DF2;&#x7ECF;&#x9000;&#x51FA;&#x65F6;&#x3002;</p>
<p>&#x5982;&#x679C;&#x901A;&#x9053;&#x5DF2;&#x5173;&#x95ED;&#x3001;&#x6216;&#x5F53;&#x672A;&#x53D1;&#x9001;&#x7684;&#x6D88;&#x606F;&#x7684;&#x79EF;&#x538B;&#x8D85;&#x8FC7;&#x9608;&#x503C;&#x4F7F;&#x5176;&#x65E0;&#x6CD5;&#x53D1;&#x9001;&#x66F4;&#x591A;&#x65F6;&#xFF0C; <code>subprocess.send()</code> &#x5C06;&#x4F1A;&#x8FD4;&#x56DE; <code>false</code>&#x3002;
&#x5426;&#x5219;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE; <code>true</code>&#x3002;
<code>callback</code> &#x51FD;&#x6570;&#x53EF;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x6D41;&#x91CF;&#x63A7;&#x5236;&#x3002;</p>
<h4>&#x793A;&#x4F8B;&#xFF1A;&#x53D1;&#x9001; server &#x5BF9;&#x8C61;<span><a class="mark" href="child_process.html#child_process_example_sending_a_server_object" id="child_process_example_sending_a_server_object">#</a></span></h4><p class="tip_wrap"><a href="child_process/example_sending_a_server_object.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/example_sending_a_server_object.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<p><code>sendHandle</code> &#x53C2;&#x6570;&#x53EF;&#x7528;&#x4E8E;&#x5C06;&#x4E00;&#x4E2A; TCP server &#x5BF9;&#x8C61;&#x7684;&#x53E5;&#x67C4;&#x4F20;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5982;&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code class="language-js">const subprocess = require(&apos;child_process&apos;).fork(&apos;subprocess.js&apos;);

// &#x6253;&#x5F00; server &#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x53D1;&#x9001;&#x8BE5;&#x53E5;&#x67C4;&#x3002;
const server = require(&apos;net&apos;).createServer();
server.on(&apos;connection&apos;, (socket) =&gt; {
  socket.end(&apos;&#x7531;&#x7236;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&apos;);
});
server.listen(1337, () =&gt; {
  subprocess.send(&apos;server&apos;, server);
});
</code></pre>
<p>&#x5B50;&#x8FDB;&#x7A0B;&#x63A5;&#x6536; server &#x5BF9;&#x8C61;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="language-js">process.on(&apos;message&apos;, (m, server) =&gt; {
  if (m === &apos;server&apos;) {
    server.on(&apos;connection&apos;, (socket) =&gt; {
      socket.end(&apos;&#x7531;&#x5B50;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&apos;);
    });
  }
});
</code></pre>
<p>&#x4E00;&#x65E6;&#x670D;&#x52A1;&#x5668;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x662F;&#x5171;&#x4EAB;&#x7684;&#xFF0C;&#x5219;&#x4E00;&#x4E9B;&#x8FDE;&#x63A5;&#x53EF;&#x88AB;&#x7236;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&#xFF0C;&#x53E6;&#x4E00;&#x4E9B;&#x53EF;&#x88AB;&#x5B50;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&#x3002;</p>
<p>&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x7531; <code>net</code> &#x6A21;&#x5757;&#x521B;&#x5EFA;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x867D;&#x7136; <code>dgram</code> &#x6A21;&#x5757;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#xFF0C;&#x4F46;&#x5B83;&#x76D1;&#x542C; <code>&apos;message&apos;</code> &#x4E8B;&#x4EF6;&#x800C;&#x4E0D;&#x662F; <code>&apos;connection&apos;</code> &#x4E8B;&#x4EF6;&#xFF0C;&#x4E14;&#x4F7F;&#x7528; <code>server.bind()</code> &#x800C;&#x4E0D;&#x662F; <code>server.listen()</code>&#x3002;
&#x76EE;&#x524D;&#x4EC5;&#x5728; Unix &#x5E73;&#x53F0;&#x4E0A;&#x652F;&#x6301;&#x8FD9;&#x4E00;&#x70B9;&#x3002;</p>
<h4>&#x793A;&#x4F8B;&#xFF1A;&#x53D1;&#x9001; socket &#x5BF9;&#x8C61;<span><a class="mark" href="child_process.html#child_process_example_sending_a_socket_object" id="child_process_example_sending_a_socket_object">#</a></span></h4><p class="tip_wrap"><a href="child_process/example_sending_a_socket_object.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/example_sending_a_socket_object.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<p>&#x7C7B;&#x4F3C;&#x5730;&#xFF0C; <code>sendHandle</code> &#x53C2;&#x6570;&#x53EF;&#x7528;&#x4E8E;&#x5C06; socket &#x7684;&#x53E5;&#x67C4;&#x4F20;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;
&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x884D;&#x751F;&#x4E86;&#x4E24;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5206;&#x522B;&#x7528;&#x4E8E;&#x5904;&#x7406; &quot;normal&quot; &#x8FDE;&#x63A5;&#x6216;&#x4F18;&#x5148;&#x5904;&#x7406; &quot;special&quot; &#x8FDE;&#x63A5;&#xFF1A;</p>
<pre><code class="language-js">const { fork } = require(&apos;child_process&apos;);
const normal = fork(&apos;subprocess.js&apos;, [&apos;normal&apos;]);
const special = fork(&apos;subprocess.js&apos;, [&apos;special&apos;]);

// &#x5F00;&#x542F; server&#xFF0C;&#x5E76;&#x53D1;&#x9001; socket &#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;
// &#x4F7F;&#x7528; `pauseOnConnect` &#x9632;&#x6B62; socket &#x5728;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x524D;&#x88AB;&#x8BFB;&#x53D6;&#x3002;
const server = require(&apos;net&apos;).createServer({ pauseOnConnect: true });
server.on(&apos;connection&apos;, (socket) =&gt; {

  // &#x7279;&#x6B8A;&#x4F18;&#x5148;&#x7EA7;&#x3002;
  if (socket.remoteAddress === &apos;74.125.127.100&apos;) {
    special.send(&apos;socket&apos;, socket);
    return;
  }
  // &#x666E;&#x901A;&#x4F18;&#x5148;&#x7EA7;&#x3002;
  normal.send(&apos;socket&apos;, socket);
});
server.listen(1337);
</code></pre>
<p><code>subprocess.js</code> &#x4F1A;&#x63A5;&#x6536;&#x8BE5; socket &#x53E5;&#x67C4;&#x4F5C;&#x4E3A;&#x4F20;&#x7ED9;&#x4E8B;&#x4EF6;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;</p>
<pre><code class="language-js">process.on(&apos;message&apos;, (m, socket) =&gt; {
  if (m === &apos;socket&apos;) {
    if (socket) {
      // &#x68C0;&#x67E5;&#x5BA2;&#x6237;&#x7AEF; socket &#x662F;&#x5426;&#x5B58;&#x5728;&#x3002;
      // socket &#x5728;&#x88AB;&#x53D1;&#x9001;&#x4E0E;&#x88AB;&#x5B50;&#x8FDB;&#x7A0B;&#x63A5;&#x6536;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x53EF;&#x88AB;&#x5173;&#x95ED;&#x3002;
      socket.end(`&#x8BF7;&#x6C42;&#x4F7F;&#x7528; ${process.argv[2]} &#x4F18;&#x5148;&#x7EA7;&#x5904;&#x7406;`);
    }
  }
});
</code></pre>
<p>&#x4E00;&#x65E6;&#x4E00;&#x4E2A; socket &#x5DF2;&#x88AB;&#x4F20;&#x7ED9;&#x4E86;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5219;&#x7236;&#x8FDB;&#x7A0B;&#x4E0D;&#x518D;&#x80FD;&#x591F;&#x8DDF;&#x8E2A; socket &#x4F55;&#x65F6;&#x88AB;&#x9500;&#x6BC1;&#x3002;
&#x4E3A;&#x4E86;&#x8868;&#x660E;&#x8FD9;&#x4E2A;&#xFF0C; <code>.connections</code> &#x5C5E;&#x6027;&#x4F1A;&#x53D8;&#x6210; <code>null</code>&#x3002;
&#x5F53;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x65F6;&#xFF0C;&#x5EFA;&#x8BAE;&#x4E0D;&#x8981;&#x4F7F;&#x7528; <code>.maxConnections</code>&#x3002;</p>
<p>&#x5EFA;&#x8BAE;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684;&#x4EFB;&#x4F55; <code>&apos;message&apos;</code> &#x53E5;&#x67C4;&#x90FD;&#x9700;&#x8981;&#x9A8C;&#x8BC1; <code>socket</code> &#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x56E0;&#x4E3A;&#x8FDE;&#x63A5;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x5B83;&#x53D1;&#x9001;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x88AB;&#x5173;&#x95ED;&#x3002;</p>
<h3>subprocess.stderr<span><a class="mark" href="child_process.html#child_process_subprocess_stderr" id="child_process_subprocess_stderr">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_stderr.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_stderr.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><a href="http://nodejs.cn/s/YuDKX1" target="_blank" rel="nofollow" class="type">&lt;stream.Readable&gt;</a></li>
</ul>
<p>&#x8868;&#x793A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>stderr</code> &#x7684;&#x53EF;&#x8BFB;&#x6D41;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x884D;&#x751F;&#x65F6; <code>stdio[2]</code> &#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; <code>&apos;pipe&apos;</code> &#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#xFF0C;&#x5219;&#x8BE5;&#x503C;&#x5C06;&#x4F1A;&#x662F; <code>null</code>&#x3002;</p>
<p><code>subprocess.stderr</code> &#x662F; <code>subprocess.stdio[2]</code> &#x7684;&#x522B;&#x540D;&#x3002;
&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x90FD;&#x5C06;&#x4F1A;&#x6307;&#x5411;&#x76F8;&#x540C;&#x7684;&#x503C;&#x3002;</p>
<h3>subprocess.stdin<span><a class="mark" href="child_process.html#child_process_subprocess_stdin" id="child_process_subprocess_stdin">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_stdin.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_stdin.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><a href="http://nodejs.cn/s/9JUnJ8" target="_blank" rel="nofollow" class="type">&lt;stream.Writable&gt;</a></li>
</ul>
<p>&#x8868;&#x793A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>stdin</code> &#x7684;&#x53EF;&#x5199;&#x6D41;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x8BFB;&#x53D6;&#x5176;&#x6240;&#x6709;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x5C06;&#x4E0D;&#x4F1A;&#x7EE7;&#x7EED;&#xFF0C;&#x76F4;&#x5230;&#x6D41;&#x5DF2;&#x901A;&#x8FC7; <code>end()</code> &#x5173;&#x95ED;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x884D;&#x751F;&#x65F6; <code>stdio[0]</code> &#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; <code>&apos;pipe&apos;</code> &#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#xFF0C;&#x5219;&#x8BE5;&#x503C;&#x5C06;&#x4F1A;&#x662F; <code>null</code>&#x3002;</p>
<p><code>subprocess.stdin</code> &#x662F; <code>subprocess.stdio[0]</code> &#x7684;&#x522B;&#x540D;&#x3002;
&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x90FD;&#x5C06;&#x4F1A;&#x6307;&#x5411;&#x76F8;&#x540C;&#x7684;&#x503C;&#x3002;</p>
<h3>subprocess.stdio<span><a class="mark" href="child_process.html#child_process_subprocess_stdio" id="child_process_subprocess_stdio">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_stdio.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_stdio.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.10</span>
</div>
<ul>
<li><a href="http://nodejs.cn/s/ZJSz23" target="_blank" rel="nofollow" class="type">&lt;Array&gt;</a></li>
</ul>
<p>&#x4E00;&#x4E2A;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x7BA1;&#x9053;&#x7684;&#x7A00;&#x758F;&#x6570;&#x7EC4;&#xFF0C;&#x5BF9;&#x5E94;&#x4E8E;&#x4F20;&#x7ED9; <a href="http://nodejs.cn/s/CKoDGf" rel="nofollow"><code>child_process.spawn()</code></a> &#x7684;&#x88AB;&#x8BBE;&#x4E3A; <code>&apos;pipe&apos;</code> &#x503C;&#x7684; <a href="http://nodejs.cn/s/ixmPX9" rel="nofollow"><code>stdio</code></a> &#x9009;&#x9879;&#x4E2D;&#x7684;&#x4F4D;&#x7F6E;&#x3002;
<code>subprocess.stdio[0]</code>&#x3001; <code>subprocess.stdio[1]</code> &#x548C; <code>subprocess.stdio[2]</code> &#x4E5F;&#x5206;&#x522B;&#x53EF;&#x7528;&#x4F5C; <code>subprocess.stdin</code>&#x3001; <code>subprocess.stdout</code> &#x548C; <code>subprocess.stderr</code>&#x3002;</p>
<p>&#x5728;&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x53EA;&#x6709;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; fd <code>1</code>&#xFF08;stdout&#xFF09;&#x88AB;&#x914D;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x7BA1;&#x9053;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x6709;&#x7236;&#x8FDB;&#x7A0B;&#x7684; <code>subprocess.stdio[1]</code> &#x662F;&#x4E00;&#x4E2A;&#x6D41;&#xFF0C;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x503C;&#x90FD;&#x662F; <code>null</code>&#x3002;</p>
<pre><code class="language-js">const assert = require(&apos;assert&apos;);
const fs = require(&apos;fs&apos;);
const child_process = require(&apos;child_process&apos;);

const subprocess = child_process.spawn(&apos;ls&apos;, {
  stdio: [
    0, // &#x4F7F;&#x7528;&#x7236;&#x8FDB;&#x7A0B;&#x7684; stdin &#x7528;&#x4E8E;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;
    &apos;pipe&apos;, // &#x628A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdout &#x901A;&#x8FC7;&#x7BA1;&#x9053;&#x4F20;&#x5230;&#x7236;&#x8FDB;&#x7A0B; &#x3002;
    fs.openSync(&apos;err.out&apos;, &apos;w&apos;) // &#x628A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stderr &#x5B9A;&#x5411;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x3002;
  ]
});

assert.strictEqual(subprocess.stdio[0], null);
assert.strictEqual(subprocess.stdio[0], subprocess.stdin);

assert(subprocess.stdout);
assert.strictEqual(subprocess.stdio[1], subprocess.stdout);

assert.strictEqual(subprocess.stdio[2], null);
assert.strictEqual(subprocess.stdio[2], subprocess.stderr);
</code></pre>
<h3>subprocess.stdout<span><a class="mark" href="child_process.html#child_process_subprocess_stdout" id="child_process_subprocess_stdout">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_stdout.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_stdout.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div>
<ul>
<li><a href="http://nodejs.cn/s/YuDKX1" target="_blank" rel="nofollow" class="type">&lt;stream.Readable&gt;</a></li>
</ul>
<p>&#x8868;&#x793A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>stdout</code> &#x7684;&#x53EF;&#x8BFB;&#x6D41;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x884D;&#x751F;&#x65F6; <code>stdio[1]</code> &#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; <code>&apos;pipe&apos;</code> &#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x503C;&#xFF0C;&#x5219;&#x8BE5;&#x503C;&#x5C06;&#x4F1A;&#x662F; <code>null</code>&#x3002;</p>
<p><code>subprocess.stdout</code> &#x662F; <code>subprocess.stdio[1]</code> &#x7684;&#x522B;&#x540D;&#x3002;
&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x90FD;&#x5C06;&#x4F1A;&#x6307;&#x5411;&#x76F8;&#x540C;&#x7684;&#x503C;&#x3002;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);

const subprocess = spawn(&apos;ls&apos;);

subprocess.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(`&#x63A5;&#x6536;&#x5230;&#x6570;&#x636E;&#x5757; ${data}`);
});
</code></pre>
<h3>subprocess.unref()<span><a class="mark" href="child_process.html#child_process_subprocess_unref" id="child_process_subprocess_unref">#</a></span></h3><p class="tip_wrap"><a href="child_process/subprocess_unref.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_unref.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.10</span>
</div>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x5C06;&#x4F1A;&#x7B49;&#x5F85;&#x5DF2;&#x5206;&#x79BB;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;
&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x7236;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x7ED9;&#x5B9A;&#x7684; <code>subprocess</code> &#x9000;&#x51FA;&#xFF0C;&#x53EF;&#x4F7F;&#x7528; <code>subprocess.unref()</code> &#x65B9;&#x6CD5;&#x3002;
&#x8FD9;&#x6837;&#x505A;&#x5C06;&#x4F1A;&#x5BFC;&#x81F4;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x4E0D;&#x4F1A;&#x5728;&#x5176;&#x5F15;&#x7528;&#x8BA1;&#x6570;&#x4E2D;&#x5305;&#x62EC;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5141;&#x8BB8;&#x7236;&#x8FDB;&#x7A0B;&#x72EC;&#x7ACB;&#x4E8E;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#xFF0C;&#x9664;&#x975E;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0E;&#x7236;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5DF2;&#x5EFA;&#x7ACB;&#x4E86; IPC &#x901A;&#x9053;&#x3002;</p>
<pre><code class="language-js">const { spawn } = require(&apos;child_process&apos;);

const subprocess = spawn(process.argv[0], [&apos;child_program.js&apos;], {
  detached: true,
  stdio: &apos;ignore&apos;
});

subprocess.unref();
</code></pre>
<h2>maxBuffer &#x4E0E; Unicode<span><a class="mark" href="child_process.html#child_process_maxbuffer_and_unicode" id="child_process_maxbuffer_and_unicode">#</a></span></h2><p class="tip_wrap"><a href="child_process/maxbuffer_and_unicode.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/maxbuffer_and_unicode.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<p><code>maxBuffer</code> &#x9009;&#x9879;&#x6307;&#x5B9A;&#x4E86; <code>stdout</code> &#x6216; <code>stderr</code> &#x4E0A;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;
&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x503C;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
&#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x591A;&#x5B57;&#x8282;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x5982; UTF-8 &#x6216; UTF-16&#x3002;
&#x4F8B;&#x5982;&#xFF0C; <code>console.log(&apos;&#x4E2D;&#x6587;&#x6D4B;&#x8BD5;&apos;)</code> &#x5C06;&#x4F1A;&#x53D1;&#x9001; 13 &#x4E2A; UTF-8 &#x7F16;&#x7801;&#x7684;&#x5B57;&#x8282;&#x5230; <code>stdout</code>&#xFF0C;&#x5C3D;&#x7BA1;&#x53EA;&#x6709; 4 &#x4E2A;&#x5B57;&#x7B26;&#x3002;</p>
<h2>shell &#x7684;&#x8981;&#x6C42;<span><a class="mark" href="child_process.html#child_process_shell_requirements" id="child_process_shell_requirements">#</a></span></h2><p class="tip_wrap"><a href="child_process/shell_requirements.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/shell_requirements.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<p>Shell &#x9700;&#x8981;&#x80FD;&#x7406;&#x89E3; <code>-c</code> &#x5F00;&#x5173;&#x3002;
&#x5982;&#x679C; shell &#x662F; <code>&apos;cmd.exe&apos;</code>&#xFF0C;&#x5219;&#x5B83;&#x9700;&#x8981;&#x80FD;&#x7406;&#x89E3; <code>/d /s /c</code> &#x5F00;&#x5173;&#xFF0C;&#x4E14;&#x547D;&#x4EE4;&#x884C;&#x89E3;&#x6790;&#x9700;&#x8981;&#x80FD;&#x517C;&#x5BB9;&#x3002;</p>
<h2>Windows &#x9ED8;&#x8BA4;&#x7684; shell<span><a class="mark" href="child_process.html#child_process_default_windows_shell" id="child_process_default_windows_shell">#</a></span></h2><p class="tip_wrap"><a href="child_process/default_windows_shell.html" class="tip_trans">&#x4E2D;&#x82F1;&#x5BF9;&#x7167;</a><a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/default_windows_shell.md" class="tip_en">&#x63D0;&#x4EA4;&#x4FEE;&#x6539;</a></p>
<p>&#x5C3D;&#x7BA1;&#x5FAE;&#x8F6F;&#x6307;&#x5B9A;&#x5728;&#x6839;&#x73AF;&#x5883;&#x4E2D; <code>%COMSPEC%</code> &#x5FC5;&#x987B;&#x5305;&#x542B; <code>&apos;cmd.exe&apos;</code> &#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x4F46;&#x5B50;&#x8FDB;&#x7A0B;&#x5E76;&#x4E0D;&#x603B;&#x662F;&#x9075;&#x5FAA;&#x76F8;&#x540C;&#x7684;&#x8981;&#x6C42;&#x3002;
&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x53EF;&#x4EE5;&#x884D;&#x751F; shell &#x7684; <code>child_process</code> &#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x5982;&#x679C; <code>process.env.ComSpec</code> &#x4E0D;&#x53EF;&#x4EE5;&#xFF0C;&#x5219;&#x4F7F;&#x7528; <code>&apos;cmd.exe&apos;</code> &#x4F5C;&#x4E3A;&#x540E;&#x5907;&#x3002;</p>
        </div>
      </div>
    </div>
  </div>
  <!-- 搜索弹窗 -->
  <!-- <div id="search_modal"></div> -->
  <!-- js -->
  <!--[if lt IE 10]><script src="/static/lib/placeholders.js?20170426"></script><![endif]-->
  
  <script>
    document.write('<script src="http://nodejs.cn/api/'&#32;+&#32;(location.port&#32;?&#32;''&#32;:&#32;'//static.nodejs.cn')&#32;+&#32;'/_static/js/api.js?1576756295697"><\/script>');
  </script>

</body></html>