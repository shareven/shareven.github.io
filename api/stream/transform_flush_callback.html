<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>transform._flush(callback) | Node.js API 文档</title>
  <link rel="icon" sizes="32x32" type="image/png" href="http://static.nodejs.cn/_static/img/favicon.png"><link rel="stylesheet" href="/api/api.css">
  <script>
    document.write('<link href="http://nodejs.cn/api/stream/'&#32;+&#32;(location.port?'':'//static.nodejs.cn')&#32;+&#32;'/_static/css/api.css?1576756324293" rel="stylesheet">')
  </script>
</head>
<body class="alt apidoc" id="page_api_item">
  <div id="api-section-stream">
    <div id="content" class="clearfix">
  
      <div id="column1" data-id="__ID__" class="interior">
        <header>
          <h1>transform._flush(callback)</h1>
          <div id="gtoc">
            <ul>
              <li>v12.14.0</li>
              <li>
                <a href="../stream.html#stream_transform_flush_callback" name="toc">返回上层文档</a>
              </li>
              <li>
                <a href="https://github.com/nodejscn/node-api-cn/edit/master/stream/transform_flush_callback.md" rel="nofollow" target="_blank">提交修改</a>
              </li>
              <li>
                <a href="http://nodejs.cn/search" name="toc">搜索</a>
              </li>
            </ul>
          </div>
          <hr>
        </header>

        <div id="biz_item"></div>
  
        <div id="apicontent">
          <div id="content_left"><ul>
<li><code>callback</code> <a href="http://nodejs.cn/s/ceTQa6" target="_blank" rel="nofollow" class="type">&lt;Function&gt;</a> &#x5F53;&#x5269;&#x4F59;&#x7684;&#x6570;&#x636E;&#x88AB; flush &#x540E;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</li>
</ul><p>&#x8BE5;&#x51FD;&#x6570;&#x4E0D;&#x80FD;&#x88AB;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x3002;
&#x5B83;&#x5E94;&#x8BE5;&#x7531;&#x5B50;&#x7C7B;&#x5B9E;&#x73B0;&#xFF0C;&#x4E14;&#x53EA;&#x80FD;&#x88AB;&#x5185;&#x90E8;&#x7684; <code>Readable</code> &#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x3002;</p><p>&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8F6C;&#x6362;&#x64CD;&#x4F5C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5728;&#x6D41;&#x7684;&#x672B;&#x5C3E;&#x53D1;&#x9001;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x6570;&#x636E;&#x3002;
&#x4F8B;&#x5982;&#xFF0C; <code>zlib</code> &#x538B;&#x7F29;&#x6D41;&#x65F6;&#x4F1A;&#x50A8;&#x5B58;&#x4E00;&#x4E9B;&#x7528;&#x4E8E;&#x4F18;&#x5316;&#x8F93;&#x51FA;&#x7684;&#x5185;&#x90E8;&#x72B6;&#x6001;&#x3002;
&#x5F53;&#x6D41;&#x7ED3;&#x675F;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x989D;&#x5916;&#x7684;&#x6570;&#x636E;&#x9700;&#x8981;&#x88AB; flush &#x624D;&#x7B97;&#x5B8C;&#x6210;&#x538B;&#x7F29;&#x3002;</p><p>&#x81EA;&#x5B9A;&#x4E49;&#x7684;<a href="http://nodejs.cn/s/fhVJQM" rel="nofollow">&#x8F6C;&#x6362;&#x6D41;</a>&#x7684; <code>transform._flush()</code> &#x65B9;&#x6CD5;&#x662F;&#x53EF;&#x9009;&#x7684;&#x3002;
&#x5F53;&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x6570;&#x636E;&#x8981;&#x88AB;&#x6D88;&#x8D39;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x662F;&#x5728; <a href="http://nodejs.cn/s/ZgviqU" rel="nofollow"><code>&apos;end&apos;</code></a> &#x4E8B;&#x4EF6;&#x88AB;&#x89E6;&#x53D1;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x5219;&#x4F1A;&#x53D1;&#x51FA;&#x53EF;&#x8BFB;&#x6D41;&#x7ED3;&#x675F;&#x7684;&#x4FE1;&#x53F7;&#x3002;</p><p>&#x5728; <code>transform._flush()</code> &#x7684;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C; <code>readable.push()</code> &#x53EF;&#x80FD;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x96F6;&#x6B21;&#x6216;&#x591A;&#x6B21;&#x3002;
&#x5F53; flush &#x64CD;&#x4F5C;&#x5B8C;&#x6210;&#x65F6;&#xFF0C;&#x5FC5;&#x987B;&#x8C03;&#x7528; <code>callback</code> &#x51FD;&#x6570;&#x3002;</p><p><code>transform._flush()</code> &#x65B9;&#x6CD5;&#x6709;&#x4E0B;&#x5212;&#x7EBF;&#x524D;&#x7F00;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x5728;&#x5B9A;&#x4E49;&#x5728;&#x7C7B;&#x7684;&#x5185;&#x90E8;&#xFF0C;&#x4E0D;&#x5E94;&#x8BE5;&#x88AB;&#x7528;&#x6237;&#x7A0B;&#x5E8F;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x3002;</p></div>
          <div id="content_right"><ul>
<li><code>callback</code> <a href="http://nodejs.cn/s/ceTQa6" target="_blank" rel="nofollow" class="type">&lt;Function&gt;</a> A callback function (optionally with an error
argument and data) to be called when remaining data has been flushed.</li>
</ul><p>This function MUST NOT be called by application code directly. It should be
implemented by child classes, and called by the internal <code>Readable</code> class
methods only.</p><p>In some cases, a transform operation may need to emit an additional bit of
data at the end of the stream. For example, a <code>zlib</code> compression stream will
store an amount of internal state used to optimally compress the output. When
the stream ends, however, that additional data needs to be flushed so that the
compressed data will be complete.</p><p>Custom <a href="http://nodejs.cn/s/fhVJQM" rel="nofollow"><code>Transform</code></a> implementations <em>may</em> implement the <code>transform._flush()</code>
method. This will be called when there is no more written data to be consumed,
but before the <a href="http://nodejs.cn/s/ZgviqU" rel="nofollow"><code>&apos;end&apos;</code></a> event is emitted signaling the end of the
<a href="http://nodejs.cn/s/YuDKX1" rel="nofollow"><code>Readable</code></a> stream.</p><p>Within the <code>transform._flush()</code> implementation, the <code>readable.push()</code> method
may be called zero or more times, as appropriate. The <code>callback</code> function must
be called when the flush operation is complete.</p><p>The <code>transform._flush()</code> method is prefixed with an underscore because it is
internal to the class that defines it, and should never be called directly by
user programs.</p></div>
          <div></div>
        </div>
      </div>
    </div>
  </div>
  <script>
    document.write('<script src="http://nodejs.cn/api/stream/'&#32;+&#32;(location.port&#32;?&#32;''&#32;:&#32;'//static.nodejs.cn')&#32;+&#32;'/_static/js/api.js?1576756324293"><\/script>');
  </script>
</body>
</html>