<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>可用性 | Node.js API 文档</title>
  <link rel="icon" sizes="32x32" type="image/png" href="http://static.nodejs.cn/_static/img/favicon.png"><link rel="stylesheet" href="/api/api.css">
  <script>
    document.write('<link href="http://nodejs.cn/api/fs/'&#32;+&#32;(location.port?'':'//static.nodejs.cn')&#32;+&#32;'/_static/css/api.css?1576756310139" rel="stylesheet">')
  </script>
</head>
<body class="alt apidoc" id="page_api_item">
  <div id="api-section-fs">
    <div id="content" class="clearfix">
  
      <div id="column1" data-id="__ID__" class="interior">
        <header>
          <h1>可用性</h1>
          <div id="gtoc">
            <ul>
              <li>v12.14.0</li>
              <li>
                <a href="../fs.html#fs_availability" name="toc">返回上层文档</a>
              </li>
              <li>
                <a href="https://github.com/nodejscn/node-api-cn/edit/master/fs/availability.md" rel="nofollow" target="_blank">提交修改</a>
              </li>
              <li>
                <a href="http://nodejs.cn/search" name="toc">搜索</a>
              </li>
            </ul>
          </div>
          <hr>
        </header>

        <div id="biz_item"></div>
  
        <div id="apicontent">
          <div id="content_left"><p>&#x6B64;&#x7279;&#x6027;&#x53D6;&#x51B3;&#x4E8E;&#x5E95;&#x5C42;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x901A;&#x77E5;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x66F4;&#x6539;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p><ul>
<li>&#x5728; Linux &#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x4F7F;&#x7528; <a href="http://nodejs.cn/s/d7HYeP" rel="nofollow"><code>inotify(7)</code></a>&#x3002;</li>
<li>&#x5728; BSD &#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x4F7F;&#x7528; <a href="http://nodejs.cn/s/sKFUBp" rel="nofollow"><code>kqueue(2)</code></a>&#x3002;</li>
<li>&#x5728; macOS &#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x5BF9;&#x6587;&#x4EF6;&#x4F7F;&#x7528; <a href="http://nodejs.cn/s/sKFUBp" rel="nofollow"><code>kqueue(2)</code></a>&#xFF0C;&#x5BF9;&#x76EE;&#x5F55;&#x4F7F;&#x7528; <a href="http://nodejs.cn/s/Asxgry" rel="nofollow"><code>FSEvents</code></a>&#x3002;</li>
<li>&#x5728; SunOS &#x7CFB;&#x7EDF;&#x4E0A;&#xFF08;&#x5305;&#x62EC; Solaris &#x548C; SmartOS&#xFF09;&#xFF0C;&#x4F7F;&#x7528;<a href="http://nodejs.cn/s/bqLYZP" rel="nofollow">&#x4E8B;&#x4EF6;&#x7AEF;&#x53E3;</a>&#x3002;</li>
<li>&#x5728; Windows &#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x6B64;&#x7279;&#x6027;&#x53D6;&#x51B3;&#x4E8E; <a href="http://nodejs.cn/s/Tbrfbe" rel="nofollow"><code>ReadDirectoryChangesW</code></a>&#x3002;</li>
<li>&#x5728; Aix &#x7CFB;&#x7EDF;&#x4E0A;&#xFF0C;&#x6B64;&#x7279;&#x6027;&#x53D6;&#x51B3;&#x4E8E; <a href="http://nodejs.cn/s/uAha9z" rel="nofollow"><code>AHAFS</code></a> &#x5FC5;&#x987B;&#x542F;&#x52A8;&#x3002;</li>
</ul><p>&#x5982;&#x679C;&#x5E95;&#x5C42;&#x529F;&#x80FD;&#x7531;&#x4E8E;&#x67D0;&#x4E9B;&#x539F;&#x56E0;&#x4E0D;&#x53EF;&#x7528;&#xFF0C;&#x5219; <code>fs.watch</code> &#x5C06;&#x65E0;&#x6CD5;&#x8FD0;&#x884C;&#x3002;
&#x4F8B;&#x5982;&#xFF0C;&#x5F53;&#x4F7F;&#x7528;&#x865A;&#x62DF;&#x5316;&#x8F6F;&#x4EF6;&#xFF08;&#x5982; Vagrant&#x3001;Docker &#x7B49;&#xFF09;&#x65F6;&#xFF0C;&#x5728;&#x7F51;&#x7EDC;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF08;NFS&#x3001;SMB &#x7B49;&#xFF09;&#x6216;&#x4E3B;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0A;&#x76D1;&#x89C6;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x53EF;&#x80FD;&#x662F;&#x4E0D;&#x53EF;&#x9760;&#x7684;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x4E5F;&#x662F;&#x4E0D;&#x53EF;&#x80FD;&#x7684;&#x3002;</p><p>&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>fs.watchFile()</code>&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4F7F;&#x7528; stat &#x8F6E;&#x8BE2; &#xFF0C;&#x4F46;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x8F83;&#x6162;&#x4E14;&#x4E0D;&#x592A;&#x53EF;&#x9760;&#x3002;</p></div>
          <div id="content_right"><p>This feature depends on the underlying operating system providing a way
to be notified of filesystem changes.</p><ul>
<li>On Linux systems, this uses <a href="http://nodejs.cn/s/d7HYeP" rel="nofollow"><code>inotify(7)</code></a>.</li>
<li>On BSD systems, this uses <a href="http://nodejs.cn/s/sKFUBp" rel="nofollow"><code>kqueue(2)</code></a>.</li>
<li>On macOS, this uses <a href="http://nodejs.cn/s/sKFUBp" rel="nofollow"><code>kqueue(2)</code></a> for files and <a href="http://nodejs.cn/s/Asxgry" rel="nofollow"><code>FSEvents</code></a> for
directories.</li>
<li>On SunOS systems (including Solaris and SmartOS), this uses <a href="http://nodejs.cn/s/bqLYZP" rel="nofollow"><code>event ports</code></a>.</li>
<li>On Windows systems, this feature depends on <a href="http://nodejs.cn/s/Tbrfbe" rel="nofollow"><code>ReadDirectoryChangesW</code></a>.</li>
<li>On Aix systems, this feature depends on <a href="http://nodejs.cn/s/uAha9z" rel="nofollow"><code>AHAFS</code></a>, which must be enabled.</li>
</ul><p>If the underlying functionality is not available for some reason, then
<code>fs.watch</code> will not be able to function. For example, watching files or
directories can be unreliable, and in some cases impossible, on network file
systems (NFS, SMB, etc), or host file systems when using virtualization software
such as Vagrant, Docker, etc.</p><p>It is still possible to use <code>fs.watchFile()</code>, which uses stat polling, but
this method is slower and less reliable.</p></div>
          <div></div>
        </div>
      </div>
    </div>
  </div>
  <script>
    document.write('<script src="http://nodejs.cn/api/fs/'&#32;+&#32;(location.port&#32;?&#32;''&#32;:&#32;'//static.nodejs.cn')&#32;+&#32;'/_static/js/api.js?1576756310139"><\/script>');
  </script>
</body>
</html>