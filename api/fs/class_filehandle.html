<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>FileHandle 类 | Node.js API 文档</title>
  <link rel="icon" sizes="32x32" type="image/png" href="http://static.nodejs.cn/_static/img/favicon.png"><link rel="stylesheet" href="/api/api.css">
  <script>
    document.write('<link href="http://nodejs.cn/api/fs/'&#32;+&#32;(location.port?'':'//static.nodejs.cn')&#32;+&#32;'/_static/css/api.css?1576756310208" rel="stylesheet">')
  </script>
</head>
<body class="alt apidoc" id="page_api_item">
  <div id="api-section-fs">
    <div id="content" class="clearfix">
  
      <div id="column1" data-id="__ID__" class="interior">
        <header>
          <h1>FileHandle 类</h1>
          <div id="gtoc">
            <ul>
              <li>v12.14.0</li>
              <li>
                <a href="../fs.html#fs_class_filehandle" name="toc">返回上层文档</a>
              </li>
              <li>
                <a href="https://github.com/nodejscn/node-api-cn/edit/master/fs/class_filehandle.md" rel="nofollow" target="_blank">提交修改</a>
              </li>
              <li>
                <a href="http://nodejs.cn/search" name="toc">搜索</a>
              </li>
            </ul>
          </div>
          <hr>
        </header>

        <div id="biz_item"></div>
  
        <div id="apicontent">
          <div id="content_left"><div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v10.0.0</span>
</div><p><code>FileHandle</code> &#x5BF9;&#x8C61;&#x662F;&#x6570;&#x5B57;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x5305;&#x88C5;&#x5668;&#x3002;
<code>FileHandle</code> &#x7684;&#x5B9E;&#x4F8B;&#x4E0E;&#x6570;&#x5B57;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x4E0D;&#x540C;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#x5B83;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684; API &#x6765;&#x5904;&#x7406;&#x6587;&#x4EF6;&#x3002;</p><p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4F7F;&#x7528; <code>filehandle.close()</code> &#x65B9;&#x6CD5;&#x5173;&#x95ED; <code>FileHandle</code>&#xFF0C;&#x5219;&#x5B83;&#x53EF;&#x80FD;&#x4F1A;&#x81EA;&#x52A8;&#x5173;&#x95ED;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5E76;&#x89E6;&#x53D1;&#x8FDB;&#x7A0B;&#x8B66;&#x544A;&#xFF0C;&#x4ECE;&#x800C;&#x6709;&#x52A9;&#x4E8E;&#x9632;&#x6B62;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x3002;
&#x8BF7;&#x4E0D;&#x8981;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x4F9D;&#x8D56;&#x6B64;&#x884C;&#x4E3A;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0D;&#x53EF;&#x9760;&#xFF0C;&#x4E14;&#x4F60;&#x7684;&#x6587;&#x4EF6;&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x5173;&#x95ED;&#x3002;
&#x76F8;&#x53CD;&#xFF0C;&#x5E94;&#x8BE5;&#x59CB;&#x7EC8;&#x663E;&#x5F0F;&#x7684;&#x5173;&#x95ED; <code>FileHandles</code>&#x3002;
Node.js &#x5C06;&#x6765;&#x53EF;&#x80FD;&#x4F1A;&#x6539;&#x53D8;&#x8FD9;&#x79CD;&#x884C;&#x4E3A;&#x3002;</p><p><code>FileHandle</code> &#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;&#x7531; <code>fsPromises.open()</code> &#x65B9;&#x6CD5;&#x5728;&#x5185;&#x90E8;&#x521B;&#x5EFA;&#x3002;</p><p>&#x4E0E;&#x57FA;&#x4E8E;&#x56DE;&#x8C03;&#x7684; API&#xFF08;&#x5982; <code>fs.fstat()</code>&#x3001; <code>fs.fchown()</code>&#x3001; <code>fs.fchmod()</code> &#x7B49;&#xFF09;&#x4E0D;&#x540C;&#xFF0C;&#x57FA;&#x4E8E; promise &#x7684; API &#x4E0D;&#x4F7F;&#x7528;&#x6570;&#x5B57;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;
&#x800C;&#x662F;&#xFF0C;&#x57FA;&#x4E8E; promise &#x7684; API &#x4F7F;&#x7528; <code>FileHandle</code> &#x7C7B;&#xFF0C;&#x4EE5;&#x5E2E;&#x52A9;&#x907F;&#x514D;&#x5728;&#x89E3;&#x51B3;&#x6216;&#x62D2;&#x7EDD; <code>Promise</code> &#x540E;&#x610F;&#x5916;&#x6CC4;&#x6F0F;&#x672A;&#x5173;&#x95ED;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</p></div>
          <div id="content_right"><div class="api_metadata">
<span>Added in: v10.0.0</span>
</div><p>A <code>FileHandle</code> object is a wrapper for a numeric file descriptor.
Instances of <code>FileHandle</code> are distinct from numeric file descriptors
in that they provide an object oriented API for working with files.</p><p>If a <code>FileHandle</code> is not closed using the
<code>filehandle.close()</code> method, it might automatically close the file descriptor
and will emit a process warning, thereby helping to prevent memory leaks.
Please do not rely on this behavior in your code because it is unreliable and
your file may not be closed. Instead, always explicitly close <code>FileHandle</code>s.
Node.js may change this behavior in the future.</p><p>Instances of the <code>FileHandle</code> object are created internally by the
<code>fsPromises.open()</code> method.</p><p>Unlike the callback-based API (<code>fs.fstat()</code>, <code>fs.fchown()</code>, <code>fs.fchmod()</code>, and
so on), a numeric file descriptor is not used by the promise-based API. Instead,
the promise-based API uses the <code>FileHandle</code> class in order to help avoid
accidental leaking of unclosed file descriptors after a <code>Promise</code> is resolved or
rejected.</p></div>
          <div></div>
        </div>
      </div>
    </div>
  </div>
  <script>
    document.write('<script src="http://nodejs.cn/api/fs/'&#32;+&#32;(location.port&#32;?&#32;''&#32;:&#32;'//static.nodejs.cn')&#32;+&#32;'/_static/js/api.js?1576756310208"><\/script>');
  </script>
</body>
</html>